openapi: 3.0.1

info:
  contact:
    email: info@berlin-group.org
    name: The Berlin Group - A European Standards Initiative
    url: https://www.berlin-group.org/
  description: |
    XS2A and the openFinance API have to deal with PSU consent for very different scenarios since the API client 
    can access sensitive PSU data via the API. The legal text [PSD2] and [EBA-RTS] introduces the notion of consent 
    for AIS, PIS as well as PIIS. In addition, operational rules of premium services might add requirements on PSU consent for services introduced at all times.
  license:
    name: Creative Commons Attribution 4.0 International Public License
    url: https://creativecommons.org/licenses/by/4.0/
  title: Consent API for V2.x
  version: "2.1"
  x-references:
    documents:
      - document:
        title: openFinance API Framework Data Dictionary
        version: "2.3.1"
      - document:
        title: openFinance API Framework Implementation Guidelines Consent API for V2.x
        version: "2.1"
      - document:
        title: openFinance API Framework Implementation Guidelines Protocol Functions and Security Measures
        version: "2.3"

externalDocs:
  description: |
    openFinance API Framework
    Implementation Guidelines
    Consent API for V2.x
  url: https://www.berlin-group.org/openfinance-downloads

servers:
  - url: https://api.testbank.com/psd2
    description: PSD2 server
  - url: https://test-api.testbank.com/psd2
    description: Optional PSD2 test server

tags:
  - name: Consent API
    description: |
      The Consent API offers the following services:
        * Establishment of a consent
        * Content information on a consent
        * Status information on a consent
        * Cancellation of a consent

paths:
  /v2/consents/account-access:
    post:
      summary: Consent Request for Account Information
      description: | 
        Creates an account information consent resource at the ASPSP regarding access to account information to account types and accounts specified in this request.
      operationId: establishConsentForAccountInformation
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
        - $ref: '#/components/parameters/HEADER_clientScaApproachPreference'
        - $ref: '#/components/parameters/HEADER_clientRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientNokRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientExplicitAuthorisationPreferred'
        - $ref: '#/components/parameters/HEADER_clientNotificationUri'
        - $ref: '#/components/parameters/HEADER_clientNotificationContentPreferred'
        - $ref: '#/components/parameters/HEADER_clientBrandLoggingInformation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_mandatory'
      requestBody:
        required: true
        content: 
          application/json:
            schema:
              type: object
              required:
                - access
                - consentType
                - recurringIndicator
                - validTo
                - frequencyPerDay
              properties:
                access:
                  description: |
                    Requested access services.
                  allOf:
                    - $ref: '#/components/schemas/accountAccess'
                consentType:
                  description: |
                    The technical consent type. 
                    NOTE: The choice of this type has an effect on attribute conditions in the \"access\" attribute, see below.
                  allOf:
                    - $ref: '#/components/schemas/ConsentTypeCode'
                recurringIndicator:
                  description: |
                    true, if the consent is for recurring access to the account data
                    false, if the consent is for one access to the account data
                  type: boolean
                validTo:
                  description: |
                    This parameter is defining a valid until date (including the mentioned date) for the requested consent. 
                    The content is the local ASPSP date in ISODate Format, e.g. 2024-10-30. 
                    Future dates might get adjusted by ASPSP.
                    If a maximum available date is requested, a date in far future is to be used: \"9999-12-31\". 
                    In both cases, the consent object to be retrieved by the GET Consent Request will contain the adjusted date.
                    The support of this adaption of the maximum available date is mandatory for the ASPSP.
                  allOf:
                    - $ref: '#/components/schemas/ISODate'
                frequencyPerDay:
                  description: |
                    This field indicates the requested maximum frequency for an access without PSU involvement per day. For a one-off access, this attribute is set to \"1\".
                    The frequency needs to be greater equal to one. If not otherwise agreed bilaterally between TPP and ASPSP, the frequency is less equal to 4.
                  type: integer
      responses:
        '201':
          $ref: '#/components/responses/created_201_CONSENT_ACCOUNT'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/account-access/{consentId}:
    get:
      summary: Get Consent Request for Account Information
      description: | 
        Reads the content of a consent object regarding access to account information.
      operationId: getConsentForAccountInformation
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/QUERY_toBeSigned'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/OK_200_CONSENT_ACCOUNT'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/funds-confirmations:
    post:
      summary: Consent Request on Funds Confirmation
      description: | 
        Creates a consent resource at the ASPSP regarding confirmation of funds access to an account specified in this request.
      operationId: establishConsentOnFundsConfirmation
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
        - $ref: '#/components/parameters/HEADER_clientScaApproachPreference'
        - $ref: '#/components/parameters/HEADER_clientRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientNokRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientExplicitAuthorisationPreferred'
        - $ref: '#/components/parameters/HEADER_clientNotificationUri'
        - $ref: '#/components/parameters/HEADER_clientNotificationContentPreferred'
        - $ref: '#/components/parameters/HEADER_clientBrandLoggingInformation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_mandatory'
      requestBody:
        required: true
        content: 
          application/json:
            schema:
              type: object
              required:
                - access
                - consentType
                - recurringIndicator
                - validTo
              properties:
                access:
                  description: |
                    requested access rights on accounts, where the confirmation of funds service is aimed to be submitted to.
                  allOf:
                    - $ref: '#/components/schemas/accountAccess'
                consentType:
                  description: |
                    Only the consentTypes \"detailed\" and \"aspspManaged\" may be supported.
                  allOf:
                    - $ref: '#/components/schemas/ConsentTypeCode'
                recurringIndicator:
                  description: |
                    true, if the consent is for recurring access to the account data
                    false, if the consent is for one access to the account data
                  type: boolean
                validTo:
                  description: |
                    This parameter is defining a valid until date (including the mentioned date) for the requested consent. 
                    The content is the local ASPSP date in ISODate Format, e.g. 2024-10-30. 
                    Future dates might get adjusted by ASPSP.
                    If a maximum available date is requested, a date in far future is to be used: \"9999-12-31\". 
                    In both cases, the consent object to be retrieved by the GET Consent Request will contain the adjusted date.
                    The support of this adaption of the maximum available date is mandatory for the ASPSP.
                  allOf:
                    - $ref: '#/components/schemas/ISODate'
                cardNumber:
                  description: |
                    Card Number of the card issued by the PIISP. Should be delivered if available.
                  allOf:
                    - $ref: '#/components/schemas/Max35Text'
                cardExpiryDate:
                  description: |
                    Expiry date of the card issued by the PIISP
                  allOf:
                    - $ref: '#/components/schemas/ISODate'
                cardInformation:
                  description: |
                    Additional explanation for the card product.
                  allOf:
                    - $ref: '#/components/schemas/Max140Text'
                registrationInformation:
                  description: |
                    Additional information about the registration process for the PSU, e.g. a reference to the TPP / PSU contract
                  allOf:
                    - $ref: '#/components/schemas/Max140Text'
      responses:
        '201':
          $ref: '#/components/responses/created_201_CONSENT_OTHER'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/funds-confirmations/{consentId}:
    get:
      summary: Get Consent Request on Funds Confirmation
      description: | 
        Reads the content of a consent object regarding confirmation of funds access.
      operationId: getConsentOnFundsConfirmation
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/QUERY_toBeSigned'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/OK_200_CONSENT_PIIS'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/user-parameters-access:
    post:
      summary: Consent Request on User Parameters Access
      description: | 
        Creates a consent resource on user related technical access data (user parameters) at the ASPSP regarding accounts addressed in this request.
      operationId: establishConsentOnUserParametersAccess
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
        - $ref: '#/components/parameters/HEADER_clientScaApproachPreference'
        - $ref: '#/components/parameters/HEADER_clientRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientNokRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientExplicitAuthorisationPreferred'
        - $ref: '#/components/parameters/HEADER_clientNotificationUri'
        - $ref: '#/components/parameters/HEADER_clientNotificationContentPreferred'
        - $ref: '#/components/parameters/HEADER_clientBrandLoggingInformation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_mandatory'
      requestBody:
        required: true
        content: 
          application/json:
            schema:
              type: object
              required:
                - access
                - consentType
                - recurringIndicator
                - validTo
              properties:
                access:
                  description: |
                    Requested access services.
                  allOf:
                    - $ref: '#/components/schemas/accountAccess'
                consentType:
                  description: |
                    The technical consent type. 
                    NOTE: The choice of this type has an effect on attribute conditions in the \"access\" attribute, see below.
                  allOf:
                    - $ref: '#/components/schemas/ConsentTypeCode'
                recurringIndicator:
                  description: |
                    true, if the consent is for recurring access to the account data
                    false, if the consent is for one access to the account data
                  type: boolean
                validTo:
                  description: |
                    This parameter is defining a valid until date (including the mentioned date) for the requested consent. 
                    The content is the local ASPSP date in ISODate Format, e.g. 2024-10-30. 
                    Future dates might get adjusted by ASPSP.
                    If a maximum available date is requested, a date in far future is to be used: \"9999-12-31\". 
                    In both cases, the consent object to be retrieved by the GET Consent Request will contain the adjusted date.
                    The support of this adaption of the maximum available date is mandatory for the ASPSP.
                  allOf:
                    - $ref: '#/components/schemas/ISODate'
      responses:
        '201':
          $ref: '#/components/responses/created_201_CONSENT_OTHER'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/user-parameters-access/{consentId}:
    get:
      summary: Get Consent Request on User Parameters Access
      description: | 
        Reads the content of a consent object regarding user related technical access data (user parameters).
      operationId: getConsentOnUserParametersAccess
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/QUERY_toBeSigned'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/OK_200_CONSENT_USERPARAMETERS'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/document-services:
    post:
      summary: Consent Request on Document Services
      description: | 
        Creates a consent resource on user document services resource at the ASPSP regarding explicitly confirming the consent to submit RTPs to (a) dedicated account(s).
      operationId: establishConsentOnDocumentServices
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
        - $ref: '#/components/parameters/HEADER_clientScaApproachPreference'
        - $ref: '#/components/parameters/HEADER_clientRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientNokRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientExplicitAuthorisationPreferred'
        - $ref: '#/components/parameters/HEADER_clientNotificationUri'
        - $ref: '#/components/parameters/HEADER_clientNotificationContentPreferred'
        - $ref: '#/components/parameters/HEADER_clientBrandLoggingInformation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_mandatory'
      requestBody:
        required: true
        content: 
          application/json:
            schema:
              type: object
              required:
                - access
                - consentType
                - validTo
              properties:
                access:
                  description: |
                    requested access rights on account(s), where  the document services are intended to be addressed to.
                  allOf:
                    - $ref: '#/components/schemas/accountAccess'
                consentType:
                  description: |
                    Only the consentTypes \"detailed\" and \"aspspManaged\" may be supported.
                  allOf:
                    - $ref: '#/components/schemas/ConsentTypeCode'
                documentOriginator:
                  description: |
                    The details of the sender of a document or the creditor of the related payments. 
                    Shall be used by the API Client, if the consent is on the pair (Originator-RTPSP, RTP-Originator) in case of RTP. 
                    RFU: This is to be defined later for the document postal services.
                  allOf:
                    - $ref: '#/components/schemas/creditorDetailsAndAccount'
                documentTypes:
                  description: |
                    Might be mandated by API Access Schemes or bilateral contracts.
                  type: array
                  items:
                    $ref: '#/components/schemas/DocumentTypeCode'
                additionalRequestInformation:
                  description: |
                    Is used only in case of an Originator-RTPSP-Aggregator as API Client.
                  allOf:
                    - $ref: '#/components/schemas/additionalRequestInformation1'
                validTo:
                  description: |
                    This parameter is defining a valid until date (including the mentioned date) for the requested consent. 
                    The content is the local ASPSP date in ISODate Format, e.g. 2024-10-30. 
                    Future dates might get adjusted by ASPSP.
                    If a maximum available date is requested, a date in far future is to be used: \"9999-12-31\". 
                    In both cases, the consent object to be retrieved by the GET Consent Request will contain the adjusted date.
                    The support of this adaption of the maximum available date is mandatory for the ASPSP.
                  allOf:
                    - $ref: '#/components/schemas/ISODate'
                registrationInformation:
                  description: |
                    Additional information about the registration process for the PSU, e.g. a reference to the TPP / PSU contract
                  allOf:
                    - $ref: '#/components/schemas/Max140Text'
      responses:
        '201':
          $ref: '#/components/responses/created_201_CONSENT_OTHER'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/document-services/{consentId}:
    get:
      summary: Get Consent Request on Document Services
      description: | 
        Reads the content of a consent object regarding document services.
      operationId: getConsentOnDocumentServices
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/QUERY_toBeSigned'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/OK_200_CONSENT_PIIS'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/{consent-category}/{consentId}/status:
    get:
      summary: Get Consent Status
      description: | 
        Reads the status of an addressed consent resource.
      operationId: getConsentStatus
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentCategory'
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/OK_200_CONSENTSTATUS'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/consents/{consent-category}/{consentId}:
    delete:
      summary: Cancellation of a Consent
      description: | 
        Terminates a given consent.
      operationId: deleteConsent
      tags:
        - Consent API
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_consentCategory'
        - $ref: '#/components/parameters/PATH_consentId'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '204':
          $ref: '#/components/responses/OK_204_CONSENT_DELETE'
        '400':
          $ref: '#/components/responses/decline_400_AIS'
        '401':
          $ref: '#/components/responses/decline_401_AIS'
        '403':
          $ref: '#/components/responses/decline_403_AIS'
        '404':
          $ref: '#/components/responses/decline_404_AIS'
        '405':
          $ref: '#/components/responses/decline_405_AIS'
        '406':
          $ref: '#/components/responses/decline_406'
        '408':
          $ref: '#/components/responses/decline_408'
        '409':
          $ref: '#/components/responses/decline_409_AIS'
        '415':
          $ref: '#/components/responses/decline_415'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/{resource-path}/{resourceId}/{authorisation-category}:
    post:
      summary: Start Authorisation Process
      description: | 
        Creates an account information consent resource at the ASPSP regarding access to account information to account types and accounts specified in this request.
      operationId: startAuthorisationProcess
      tags:
        - Authorisation
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_resourcePath'
        - $ref: '#/components/parameters/PATH_resourceId'
        - $ref: '#/components/parameters/PATH_authorisationCategory'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_optional'
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
        - $ref: '#/components/parameters/HEADER_clientScaApproachPreference'
        - $ref: '#/components/parameters/HEADER_clientRedirectUri'
        - $ref: '#/components/parameters/HEADER_clientNokRedirectUri'
      requestBody:
        required: false #default: No Authorisation Body
        content:
          application/json:
            schema:
              anyOf: #Different Authorisation Bodies
                - type: object #Case: \"startAuthorisationWithPsuAuthentication\" or \"startAuthorisationWithEncryptedPsuAuthentication\"
                  required:
                    - psuData
                  properties: 
                    psuData:
                      description: |
                        The password, orencryptedPassword, subfield is used, depending depending on encryption requirements of the ASPSP as indicated in the corresponding hyperlink 
                        contained in the preceding response message of the ASPSP. The related encryption requirements are defined in Document \"Protocol Functions and Security Measures\". 
                      allOf:
                        - $ref: '#/components/schemas/psuCredentials'
                - type: object #Case: \"startAuthorisationWithAuthenticationMethodSelection\"
                  required:
                    - authenticationMethodId 
                  properties: 
                    authenticationMethodId :
                      description: |
                        The authentication method ID as provided by the ASPSP. 
                      type: string
      responses:
        '201':
          $ref: '#/components/responses/created_201_AUTHORISATION'
        '400':
          $ref: '#/components/responses/decline_400_AUTHORISATION'
        '401':
          $ref: '#/components/responses/decline_401_AUTHORISATION'
        '403':
          $ref: '#/components/responses/decline_403_AUTHORISATION'
        '404':
          $ref: '#/components/responses/decline_404_AUTHORISATION'
        '405':
          $ref: '#/components/responses/decline_405_AUTHORISATION'
        '406':
          $ref: '#/components/responses/decline_406_AUTHORISATION'
        '408':
          $ref: '#/components/responses/decline_408_AUTHORISATION'
        '409':
          $ref: '#/components/responses/decline_409_AUTHORISATION'
        '415':
          $ref: '#/components/responses/decline_415_AUTHORISATION'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
    get:
      summary: Get Authorisation Sub-Resources Request
      description: | 
        Will deliver an array of resource identifications of all generated authorisation or cancellation authorisation sub-resources.
      operationId: getAuthorisationSubResources
      tags:
        - Authorisation
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_resourcePath'
        - $ref: '#/components/parameters/PATH_resourceId'
        - $ref: '#/components/parameters/PATH_authorisationCategory'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/created_200_GET_AUTHORISATION_IDS'
        '400':
          $ref: '#/components/responses/decline_400_AUTHORISATION'
        '401':
          $ref: '#/components/responses/decline_401_AUTHORISATION'
        '403':
          $ref: '#/components/responses/decline_403_AUTHORISATION'
        '404':
          $ref: '#/components/responses/decline_404_AUTHORISATION'
        '405':
          $ref: '#/components/responses/decline_405_AUTHORISATION'
        '406':
          $ref: '#/components/responses/decline_406_AUTHORISATION'
        '408':
          $ref: '#/components/responses/decline_408_AUTHORISATION'
        '409':
          $ref: '#/components/responses/decline_409_AUTHORISATION'
        '415':
          $ref: '#/components/responses/decline_415_AUTHORISATION'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
  /v2/{resource-path}/{resourceId}/{authorisation-category}/{authorisationId} :
    get:
      summary: Get Authorisation Status Request
      description: | 
        Checks the SCA status of an authorisation or cancellation authorisation sub-resource.
      operationId: getAuthorisationStatus
      tags:
        - Authorisation
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_resourcePath'
        - $ref: '#/components/parameters/PATH_resourceId'
        - $ref: '#/components/parameters/PATH_authorisationCategory'
        - $ref: '#/components/parameters/PATH_authorisationId'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
      responses:
        '200':
          $ref: '#/components/responses/created_200_GET_AUTHORISATION_STATUS'
        '400':
          $ref: '#/components/responses/decline_400_AUTHORISATION'
        '401':
          $ref: '#/components/responses/decline_401_AUTHORISATION'
        '403':
          $ref: '#/components/responses/decline_403_AUTHORISATION'
        '404':
          $ref: '#/components/responses/decline_404_AUTHORISATION'
        '405':
          $ref: '#/components/responses/decline_405_AUTHORISATION'
        '406':
          $ref: '#/components/responses/decline_406_AUTHORISATION'
        '408':
          $ref: '#/components/responses/decline_408_AUTHORISATION'
        '409':
          $ref: '#/components/responses/decline_409_AUTHORISATION'
        '415':
          $ref: '#/components/responses/decline_415_AUTHORISATION'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'
    put:
      summary: Update PSU Data
      description: | 
        Updates the addressed authorisation sub-resource data on the server by PSU data if requested by the ASPSP.
      operationId: updatePSUData
      tags:
        - Authorisation
      security:
        - {}
        - BearerAuthOAuth: []
      parameters:
        - $ref: '#/components/parameters/PATH_resourcePath'
        - $ref: '#/components/parameters/PATH_resourceId'
        - $ref: '#/components/parameters/PATH_authorisationCategory'
        - $ref: '#/components/parameters/PATH_authorisationId'
        - $ref: '#/components/parameters/HEADER_psuIpAddress_optional'
        - $ref: '#/components/parameters/HEADER_psuIpPort'
        - $ref: '#/components/parameters/HEADER_psuAccept'
        - $ref: '#/components/parameters/HEADER_psuAcceptCharset'
        - $ref: '#/components/parameters/HEADER_psuAcceptEncoding'
        - $ref: '#/components/parameters/HEADER_psuAcceptLanguage'
        - $ref: '#/components/parameters/HEADER_psuUserAgent'
        - $ref: '#/components/parameters/HEADER_psuHttpMethod'
        - $ref: '#/components/parameters/HEADER_psuDeviceId'
        - $ref: '#/components/parameters/HEADER_psuGeoLocation'
        - $ref: '#/components/parameters/HEADER_digest'
        - $ref: '#/components/parameters/HEADER_xJwsSignature'
        - $ref: '#/components/parameters/HEADER_xRequestId'
        - $ref: '#/components/parameters/HEADER_bodySigProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncProfile'
        - $ref: '#/components/parameters/HEADER_bodyEncList'
        - $ref: '#/components/parameters/HEADER_psuId'
        - $ref: '#/components/parameters/HEADER_psuIdType'
        - $ref: '#/components/parameters/HEADER_psuCorporateId'
        - $ref: '#/components/parameters/HEADER_psuCorporateIdType'
      requestBody:
        required: false #Case: \"Update PSU Data (Identification)\": No Authorisation Body
        content:
          application/json:
            schema:
              anyOf: #Different Authorisation Bodies
                - type: object #Case: \"Update PSU Data (Authentication)\"  in the Decoupled or Embedded Approach 
                  required:
                    - psuData
                  properties: 
                    psuData:
                      description: |
                         The password, orencryptedPassword, subfield is used, depending depending on encryption requirements of the ASPSP as indicated in the corresponding hyperlink 
                         contained in the preceding response message of the ASPSP. The related encryption requirements are defined in document \"Protocol Functions and Security Measures\". 
                      allOf:
                        - $ref: '#/components/schemas/psuCredentials'
                - type: object #Case: \"Update PSU Data (Select Authentication Method)\"
                  required:
                    - authenticationMethodId 
                  properties: 
                    authenticationMethodId :
                      description: |
                        The authentication method ID as provided by the ASPSP. 
                      type: string
                - type: object #Case: \"Transaction Authorisation\"
                  properties: 
                    scaAuthenticationData :
                      description: |
                        SCA authentication data, depending on the chosen authentication method. If the data is binary, then it is base64 encoded. 
                      type: string
                    signatureData :
                      description: |
                        Data needed for the verification of the signature (e.g. JWS for JSON signatures) 
                      type: string 
                - type: object #Case: \"Authorisation Confirmation\"
                  required:
                    - confirmationCode 
                  properties: 
                    confirmationCode :
                      description: |
                        Confirmation code as retrieved by the TPP within the Redirect SCA Approach as described in document \"Protocol Functions and Security Measures\". 
                      type: string
      responses:
        '200':
          $ref: '#/components/responses/Ok_200_PUT_AUTHORISATION'
        '400':
          $ref: '#/components/responses/decline_400_AUTHORISATION'
        '401':
          $ref: '#/components/responses/decline_401_AUTHORISATION'
        '403':
          $ref: '#/components/responses/decline_403_AUTHORISATION'
        '404':
          $ref: '#/components/responses/decline_404_AUTHORISATION'
        '405':
          $ref: '#/components/responses/decline_405_AUTHORISATION'
        '406':
          $ref: '#/components/responses/decline_406_AUTHORISATION'
        '408':
          $ref: '#/components/responses/decline_408_AUTHORISATION'
        '409':
          $ref: '#/components/responses/decline_409_AUTHORISATION'
        '415':
          $ref: '#/components/responses/decline_415_AUTHORISATION'
        '500':
          $ref: '#/components/responses/decline_500'
        '503':
          $ref: '#/components/responses/decline_503'


components:
  securitySchemes:
    BearerAuthOAuth:
      description: |
        Bearer Token. 
        Is contained only, if an OAuth2 based authentication was performed in a pre-step or 
        an OAuth2 based SCA was performed in a preceding AIS service in the same session.
      type: http
      scheme: bearer
  schemas:
    additionalRequestInformation1:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Additional Request Information1\" for more details.
      type: object
      properties:
        originatorPspId:
          description: |
            Originator payment service provider in case of indirect participation regarding a related API Access Scheme or bilateral contract
          allOf:
            - $ref: '#/components/schemas/financialInstitutionIdentification'
    Max2048Text:
      type: string
      maxLength: 2048
      example: 'Text, maximum of 2048 characters.'
    MessageCode_405_AIS: 
      description: |
        Message codes defined for AIS for HTTP Error code 405 (METHOD NOT ALLOWED).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_405'
    OrganisationIdentificationCode:
      description: |
      type: string
      enum:
        - BANK
        - CBID
        - CHID
        - CINC
        - COID
        - CUST
        - DUNS
        - EMPL
        - GS1G
        - SREN
        - SRET
        - TXID
        - BDID
        - BOID
      example: 'BOID'
    MessageCode_PushAisSpecific_409:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Push AIS Specific Error Codes\" for more details.
      type: string
      enum: 
        - PRIOR_SUBSCRIPTION_AVAILABLE
      example: 'PRIOR_SUBSCRIPTION_AVAILABLE'
    error_NG_405_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_405_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    AccessRightsCodes:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Access Rights Codes\" for more details.
      type: string
      enum: 
        - ais
        - accountDetails
        - balances
        - transactions
        - orders
        - ownerName
        - owner
        - psuName
        - psuLeanIdentification
        - trustedBeneficiaries
        - initiatePayments
        - fundsConfirmations
        - userParameters
        - ibanChecks
        - corporateParameters
        - accountCheckParameters
      example: 'accountDetails'
    error_RFC7807_403_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_403_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_403_AIS'
        _links:
          $ref: '#/components/schemas/links'
    Max500Text:
      type: string
      maxLength: 500
      example: 'Text, maximum of 500 characters.'
    CurrencyCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[A-Z]{3}'
      example: 'EUR'
    clientMessageInformation_409_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_409'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    error_RFC7807_403_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_403'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_403'
        _links:
          $ref: '#/components/schemas/links'
    balance:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Balance\" for more details.
      type: object
      required:
        - balanceAmount
        - balanceType
      properties:
        balanceAmount:
          description: |
          allOf:
            - $ref: '#/components/schemas/amount'
        balanceType:
          description: |
          allOf:
            - $ref: '#/components/schemas/BalanceType'
        creditLimitIncluded:
          description: |
            A flag indicating if the credit limit of the corresponding account is included in the calculation of the balance, where applicable.
          type: boolean
        lastChangeDateTime:
          description: |
            This data element might be used to indicate e.g. with the expected or booked balance that no action is known on the account, which is not yet booked.
          allOf:
            - $ref: '#/components/schemas/ISODateTime'
        referenceDate:
          description: |
            indicates the date of the balance
          allOf:
            - $ref: '#/components/schemas/ISODate'
        lastCommittedTransaction:
          description: |
            entryReference of the last commited transaction to support the TPP in identifying whether all PSU transactions are already known.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    AccountStatusCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Acount Status Code\" for more details.
      type: string
      enum: 
        - enabled
        - deleted
        - blocked
      example: 'enabled'
    _links_200_PUT_AUTHORISATION: 
      type: object
      additionalProperties: 
        $ref: '#/components/schemas/hrefType'
      properties:
        scaRedirect:
          $ref: '#/components/schemas/hrefType'
        scaOAuth:
          $ref: '#/components/schemas/hrefType'
        confirmation:
          $ref: '#/components/schemas/hrefType'
        updatePsuIdentification:
          $ref: '#/components/schemas/hrefType'
        updatePsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        updateAdditionalPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        updateEncryptedPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        updateAdditionalEncryptedPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        updateResourceByDebtorAccountResource:
          $ref: '#/components/schemas/hrefType'
        selectAuthenticationMethod:
          $ref: '#/components/schemas/hrefType'
        authoriseTransaction:
          $ref: '#/components/schemas/hrefType'
        scaStatus:
          $ref: '#/components/schemas/hrefType'
        transactionFees:
          $ref: '#/components/schemas/hrefType'
        status:
          $ref: '#/components/schemas/hrefType'
        encryptionCertificates:
          type: array
          items: 
            $ref: '#/components/schemas/hrefType'
    clientMessageInformation_404_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_404'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    MessageCode_403_AIS: 
      description: Message codes defined for AIS for HTTP Error code 403 (FORBIDDEN).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_403'
    hrefType:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"href Type\" for more details.
      type: object
      required:
        - href
      properties:
        href:
          description: |
          type: string
    originalTransactionReference:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Original Transaction Reference\" for more details.
      type: object
      properties:
        instructedAmount:
          description: |
          allOf:
            - $ref: '#/components/schemas/amount'
        equivalentAmount:
          description: |
          allOf:
            - $ref: '#/components/schemas/equivalentAmount'
        creditor:
          description: |
          allOf:
            - $ref: '#/components/schemas/partyDescription'
        creditorAccount:
          description: |
          allOf:
            - $ref: '#/components/schemas/accountReference'
        ultimateCreditor:
          description: |
          allOf:
            - $ref: '#/components/schemas/partyDescription'
    MessageCode_PushAisSpecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Push AIS Specific Error Codes\" for more details.
      type: string
      enum: 
        - SUBSCRIPTION_INVALID
        - SECONDARY_URI_NOT_SUPPORTED
        - MIME_TYPE_NOT_SUPPORTED
        - LIMIT_FOR_BALANCE_NOT_SUPPORTED
        - ACCOUNT_CURRENCY_NOT_MATCHING
        - BALANCE_TYPE_NOT_SUPPORTED
      example: 'SUBSCRIPTION_INVALID'
    financialInstitutionIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Financial Institution Identification\" for more details.
      type: object
      properties:
        bicfi:
          description: |
          allOf:
            - $ref: '#/components/schemas/BICFI'
        clearingSystemMemberId:
          description: |
            Information used to identify a member within a clearing system.
          allOf:
            - $ref: '#/components/schemas/clearingSystemMemberIdentification'
        name:
          description: |
            Name of the financial institution
          allOf:
            - $ref: '#/components/schemas/Max140Text'
        postalAddress:
          description: |
            Postal Address of the financial institution.
          allOf:
            - $ref: '#/components/schemas/postalAddress'
        other:
          description: |
            Unique identification of an organisation, as assigned by an institution, using an identification scheme.
          allOf:
            - $ref: '#/components/schemas/genericFinancialInstitutionIdentification'
    Max35Text:
      type: string
      maxLength: 35
      example: 'Text, maximum of 35 characters.'
    accountReference:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account Reference\" for more details.
      type: object
      properties:
        iban:
          description: |
          allOf:
            - $ref: '#/components/schemas/IBAN'
        bban:
          description: |
            BBAN of the account. This data elements is used for payment accounts which have no IBAN.
          allOf:
            - $ref: '#/components/schemas/BBAN'
        pan:
          description: |
            Primary Account Number (PAN) of a card, can be tokenised by the ASPSP due to PCI DSS requirements. 
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        maskedPan:
          description: |
            Primary Account Number (PAN) of a card in a masked form.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        msisdn:
          description: |
            An alias to access a payment account via a registered mobile phone number.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        other:
          description: |
            An alias with a proprietary coding
          allOf:
            - $ref: '#/components/schemas/genericAccountIdentification'
        typeCode:
          description: |
            Remark: Shall not be used in the consent model, since account category provides enough information for the ASPSP.
          allOf:
            - $ref: '#/components/schemas/CashAccountType'
        typeProprietary:
          description: |
            Remark: Shall not be used in the consent model, since account category provides enough information for the ASPSP.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        currency:
          description: |
            ISO 4217 Alpha 3 currency code
          allOf:
            - $ref: '#/components/schemas/CurrencyCode'
        proxy:
          description: |
          allOf:
            - $ref: '#/components/schemas/proxyAccountIdentification'
        name:
          description: |
            Name of the account
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        owner: 
          description: |
          allOf: 
            - $ref: '#/components/schemas/partyDescription2'
        servicer:
          description: |
          allOf:
            - $ref: '#/components/schemas/financialInstitutionIdentification'
    PartyNameMatchCode:
      description: |
        See document \"openFinance API Framework Extended Services Verification of Party (VOP) \", 
        section \"Party Name Match Code\" for more details.
        Code    Desription
         MTCH     Match
         NMTC     No match
         MBAM     The provided creditor name closely resembles the account holder name
         NOAP     Validation check is not applicable
         NOTC     Validation check has not been carried out.
      type: string
      enum:
        - MTCH
        - NMTC
        - CMTC
        - NOAP
      example: 'MBAM'
    IBAN:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[A-Z]{2,2}[0-9]{2,2}[a-zA-Z0-9]{1,30}'
      example: 'FR7612345987650123456789014'
    amountDependentRate:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Amount dependent Rate\" for more details.
      type: object
      required:
        - percentage
      properties:
        percentage:
          description: |
            The (signed) rate of the interest.
            Up to 20 significant figures. The decimal separator is a dot.
            Trailing zeroes must be truncated.
          type: string
          pattern: '-?[0-9]{1,20}(\.[0-9]{0,19})?'
        fromAmount:
          description: |
            Amount from which the interest rate applies.
          allOf:
            - $ref: '#/components/schemas/amount'
        toAmount:
          description: |
            Amount up to which the interest rate applies.
          allOf:
            - $ref: '#/components/schemas/amount'
    index:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Index\" for more details.
      type: object
      properties:
        index:
          description: |
            Though arbitrary text is technically supported, it is recommended to use the following keywords:
            * \"CPI\" - customer Price Index
            * \"FC\" - foreign currency
            * \"other\" - for others, not clearly specified index relations.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        rootIndexValue:
          description: |
            A number (represented as a string) giving the basic index value which is the basis for the loan contract.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        exchangeRate:
          description: |
            Intended for usage in case of index = \"FC\".
          allOf:
            - $ref: '#/components/schemas/amountDependentRate'
        additionalInformation:
          description: |
            Explanations e.g. to specify index = \"other\".
          allOf:
            - $ref: '#/components/schemas/Max500Text'
    error_RFC7807_401_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_401_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_401_AIS'
        _links:
          $ref: '#/components/schemas/links'
    CashAccountType:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      enum:
        - CACC
        - CARD
        - CASH
        - CHAR
        - CISH
        - COMM
        - CPAC
        - LLSV
        - LOAN
        - MGLD
        - MOMA
        - NREX
        - ODFT
        - ONDP
        - OTHR
        - SACC
        - SLRY
        - SVGS
        - TAXE
        - TRAN
        - TRAS
        - VACC
        - NFCA
      example: 'CACC'
    clientMessageInformation_404_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_404_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    genericAccountIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Generic Account Identification\" for more details.
      type: object
      required:
        - identification
      properties:
        identification:
          description: |
            Unique and unambiguous identification of an account.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        schemeNameCode:
          description: |
            An entry provided by an external ISO code list
          allOf:
            - $ref: '#/components/schemas/AccountIdentificationCode'
        schemeNameProprietary:
          description: |
            A scheme name defined in a proprietary way.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        issuer:
          description: |
            Issuer of the identification
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    genericOrganisationIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Generic Organisation Identification\" for more details.
      type: object
      required:
        - identification
      properties:
        identification:
          description: |
            Unique and unambiguous identification of an organisation.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        schemeNameCode:
          description: |
            An entry provided by an external ISO code list
          allOf:
            - $ref: '#/components/schemas/OrganisationIdentificationCode'
        schemeNameProprietary:
          description: |
            A scheme name defined in a proprietary way.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        issuer:
          description: |
            Issuer of the identification
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    privateIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Private Identification\" for more details.
      type: object
      properties:
        birthDate:
          description: |
          allOf:
            - $ref: '#/components/schemas/ISODate'
        provinceOfBirth:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        cityOfBirth:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        countryOfBirth:
          description: |
          allOf:
            - $ref: '#/components/schemas/CountryCode'
        others:
          description: |
            Unique identification of a person, as assigned by an institution, using an identification scheme. 
            Shall be used if none of the above attributes is used.
          type: array
          items:
            $ref: '#/components/schemas/personIdentification'
    messageCode_SigningBasketSpecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Signing Basket Specific Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_SigningBasketSpecific_400'
        - $ref: '#/components/schemas/MessageCode_SigningBasketSpecific_409'
    GeoLocation:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Geo Location\" for more details.
      type: string
      pattern: 'GEO:-?[0-9]{1,2}\.[0-9]{6};-?[0-9]{1,3}\.[0-9]{6}'
      example: 'GEO:52.506931;13.144558'
    _links_201_AUTHORISATION: 
      type: object
      additionalProperties: 
        $ref: '#/components/schemas/hrefType'
      properties:
        scaRedirect:
          $ref: '#/components/schemas/hrefType'
        scaOAuth:
          $ref: '#/components/schemas/hrefType'
        confirmation:
          $ref: '#/components/schemas/hrefType'
        updatePsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        updateEncryptedPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        selectAuthenticationMethod:
          $ref: '#/components/schemas/hrefType'
        authoriseTransaction:
          $ref: '#/components/schemas/hrefType'
        scaStatus:
          $ref: '#/components/schemas/hrefType'
        transactionFees:
          $ref: '#/components/schemas/hrefType'
        encryptionCertificates:
          type: array
          items: 
            $ref: '#/components/schemas/hrefType'
    error_RFC7807_401_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_401'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_401'
        _links:
          $ref: '#/components/schemas/links'
    error_NG_403_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_403_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_PisSpecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - PAYMENT_FAILED
        - EXECUTION_DATE_INVALID
      example: 'PAYMENT_FAILED'
    partyDescription2:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Party Description2\" for more details.
      type: object
      properties:
        name:
          description: |
            Name of the party.
          allOf:
            - $ref: '#/components/schemas/Max140Text'
        postaladdress:
          description: |
            Postal Address of the party.
          allOf:
            - $ref: '#/components/schemas/postalAddress'
    MessageCode_PisSpecific_401:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - KID_MISSING
      example: 'KID_MISSING'
    Max256Text:
      type: string
      maxLength: 256
      example: 'Text, maximum of 256 characters.'
    organisationIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Organisation Identification\" for more details.
      type: object
      properties:
        anyBIC:
          description: |
            A code allocated to a business entity or to a financial institution by a Registration Authority under an international identification scheme.
          allOf:
            - $ref: '#/components/schemas/BICFI'
        lei:
          description: |
            Legal Entity Identifier.
          allOf:
            - $ref: '#/components/schemas/LEI'
        others:
          description: |
            Unique identification of an organisation, as assigned by an institution, using an identification scheme.
          type: array
          items:
            $ref: '#/components/schemas/genericOrganisationIdentification'
    error_NG_405_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_405_AIS'
        _links:
          $ref: '#/components/schemas/links'
    clientMessageInformation_403_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_403_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    MessageCode_PisSpecific_403:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - PRODUCT_INVALID
      example: 'PRODUCT_INVALID'
    creditorDetailsAndAccount:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Creditor Details and Account\" for more details.
      type: object
      required:
        - creditor
        - creditorAccount
      properties:
        creditor:
          description: |
          allOf:
            - $ref: '#/components/schemas/partyDescription'
        creditorAccount:
          description: |
          allOf:
            - $ref: '#/components/schemas/accountReference'
    MessageCode_PisSpecific_404:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - PRODUCT_UNKNOWN
      example: 'PRODUCT_UNKNOWN'
    MessageCode_PisSpecific_405:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - CANCELLATION_INVALID
      example: 'CANCELLATION_INVALID'
    error_NG_403_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_403_AIS'
        _links:
          $ref: '#/components/schemas/links'
    ConsentStatus:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Consent Status\" for more details.
      type: string
      enum:
        - received
        - rejected
        - partiallyAuthorised
        - valid
        - revokedByPsu
        - expired
        - terminatedByTpp
        - replacedByTpp
      example: 'received'
    NamePrefixCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Name Prefix Code\" for more details.
      type: string
      enum:
        - DOCT
        - MADM
        - MISS
        - MIST
        - MIKS
      example: 'MADM'
    equivalentAmount:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Equivalent Amount\" for more details.
      type: object
      required:
        - amount
        - currencyOfTransfer
      properties:
        amount: 
          description: |
            Amount of money to be transferred between the debtor and creditor, before the deduction of charges, expressed in the currency of the debtor's account, and to be transferred in a different currency. 
            Usage: The first agent will convert the equivalent amount into the amount to be transferred. 
          allOf:
            - $ref: '#/components/schemas/amount'
        currencyOfTransfer:
          description: |
            Specifies the currency of the to be transferred amount, which differes from the currency of the debtor's account.
          allOf:
            - $ref: '#/components/schemas/CurrencyCode'
    originalTransactionInformationAndVOPStatus:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Original Transaction Information and Status\" for more details.
      type: object
      required:
        - transactionStatus      
      properties:
        originalInstructionId:
          description: |
            Unique identification, as assigned by the original instructing party for the original instructed party, to unambiguously identify the original instruction.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        originalEndToEndId:
          description: |
            Unique identification, as assigned by the original initiating party to unambiguously identify the original transaction
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        originalUetr:
          description: |
            Universally unique identifier to provide the original end-to-end reference of a payment transaction.
          allOf:
            - $ref: '#/components/schemas/UUID'
        transactionStatus:
          description: |
            Specifies the status of a transaction, as published in an external payment transaction status code list.
          allOf:
            - $ref: '#/components/schemas/TransactionStatus'
        statusReasonInformationCode:
          description: |
            Provides detailed information on the status reason.
          allOf:
            - $ref: '#/components/schemas/StatusReasonCode'
        statusReasonInformationProprietary:
          description: |
            Proprietary additional information on the reason for e.g. rejecting the request.
            Remark: If an ISO Code is available it should be used instead of Proprietary Reasons. Further restrictions could be defined by API Access Schemes. 
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        statusReasonAdditionalInformation:
          description: |
            Further details on the status reason.
          allOf:
            - $ref: '#/components/schemas/Max105Text'
        originalTransactionReference: 
          description: |
            Key elements used to identify the original transaction that is being referred to.
          allOf:
            - $ref: '#/components/schemas/originalTransactionReference'
        creditorNameMatch:
          description: |
            Will be provided, if an account/owner match was requested, if the related code in the interbank VOP service was \"CMTC\", \"NMTC\" or \"NOAP\" ,i.e. if the transactionStatus also equals \"RVCM\".
          allOf:
            - $ref: '#/components/schemas/PartyNameMatchCode'
        creditorOrganisationIdMatch:
          description: |
            Will be provided, if an account/owner match was requested, if the related code in the interbank VOP service was \"NMTC\" or \"NOAP\" ,i.e. if the transactionStatus also equals \"RVCM\".
          allOf:
            - $ref: '#/components/schemas/PartyIdentificationMatchCode'
        matchedCreditorName:
          description: |
            Provided only in case of \"CMTC\" as code in creditorNameMatch.
          allOf:
            - $ref: '#/components/schemas/Max140Text'
    BICFI:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[A-Z]{6,6}[A-Z2-9][A-NP-Z0-9]([A-Z0-9]{3,3}){0,1}'
      example: 'ECBFDEFFFIM'
    Max140Text:
      type: string
      maxLength: 140
      example: 'Text, maximum of 140 characters.'
    Max512Text:
      type: string
      maxLength: 512
      example: 'Text, maximum of 512 characters.'
    accountAccessRights:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account Access Rights\" for more details.
      type: object
      required:
        - rights
      properties:
        account:
          description: |
            Is mandated if the consentType equals \"detailed\", not supported otherwise.allOf:
          allOf:
            - $ref: '#/components/schemas/accountReference'
        rights:
          description: |
          type: array
          items:
            $ref: '#/components/schemas/AccessRightsCodes'
    PersonIdentificationCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      enum:
        - ARNU
        - CCPT
        - CUST
        - DRLC
        - EMPL
        - NIDN
        - SOSE
        - TELE
        - TXID
        - POID
      example: 'NIDN'
    _links_200_GET_AUTHORISATION_STATUS: 
      type: object
      additionalProperties: 
        $ref: '#/components/schemas/hrefType'
      properties:
        scaStatus:
          $ref: '#/components/schemas/hrefType'
    ProxyAccountTypeCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      enum:
        - TELE
        - EMAL
        - DNAM
        - CINC
        - COTX
        - COID
        - CUST
        - DRLC
        - EIDN
        - EWAL
        - PVTX
        - LEIC
        - MBNO
        - NIDN
        - CCPT
        - SHID
        - SOSE
        - TOKN
        - UBIL
        - VIPN
        - BIID
      example: 'EMAL'
    MessageCode_ServiceUnspecific_409:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      enum: 
          - STATUS_INVALID
          - CHANGE_INVALID
      example: 'STATUS_INVALID'
    error_NG_404_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_404_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    error_RFC7807_400_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_400'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_400'
        _links:
          $ref: '#/components/schemas/links'
    SecuritiesFeeTypeCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Securities Fee Type Code\" for more details.
      type: string
      enum:
        - transactionFee
        - brokerageFee
        - managementFee
        - courtage
        - custodyFee
        - exchangeFee
        - thirdPartyFee
        - otherFee
      example: 'otherFee'
    FinancialInstitutionIdentificationCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
    clientMessageInformation_401_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_401_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    error_RFC7807_409_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_409'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_409'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_401_AIS: 
      description: Message codes defined for AIS for HTTP Error code 401 (UNAUTHORIZED).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_401'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_401'
    MessageCode_ServiceUnspecific_405:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - SERVICE_INVALID
      example: 'SERVICE_INVALID'
    ISODate:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      format: date
      example: '2020-01-01'
    MessageCode_ServiceUnspecific_404:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - RESOURCE_UNKNOWN
      example: 'RESOURCE_UNKNOWN'
    BBAN:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[a-zA-Z0-9]{1,30}' 
      example: 'BARC12345612345678'
    MessageCode_ServiceUnspecific_403:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - SERVICE_BLOCKED
        - CONSENT_UNKNOWN
        - RESOURCE_UNKNOWN
        - RESOURCE_EXPIRED
      example: 'SERVICE_BLOCKED'
    MessageCode_ServiceUnspecific_401:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - CERTIFICATE_INVALID
        - CERTIFICATE_EXPIRED
        - CERTIFICATE_BLOCKED
        - CERTIFICATE_REVOKED
        - CERTIFICATE_MISSING
        - CLIENT_INVALID
        - CLIENT_INCONSISTENT
        - API_CONTRACT_ID_INVALID
        - SIGNATURE_INVALID
        - SIGNATURE_MISSING
        - ROLE_INVALID
        - PSU_CREDENTIALS_INVALID
        - CORPORATE_ID_INVALID
        - CONSENT_INVALID
        - CONSENT_EXPIRED
        - TOKEN_UNKNOWN
        - TOKEN_INVALID
        - TOKEN_EXPIRED
      example: 'CERTIFICATE_INVALID'
    MessageCode_ServiceUnspecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - FORMAT_ERROR
        - PARAMETER_NOT_CONSISTENT
        - PARAMETER_NOT_SUPPORTED
        - SERVICE_INVALID
        - CONSENT_UNKNOWN
        - RESOURCE_UNKNOWN
        - RESOURCE_EXPIRED
        - RESOURCE_BLOCKED
        - TIMESTAMP_INVALID
        - PERIOD_INVALID
        - SCA_METHOD_UNKNOWN
        - SCA_INVALID
      example: 'FORMAT_ERROR'
    error_NG_401_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_401_AIS'
        _links:
          $ref: '#/components/schemas/links'
    accountAccess:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account Access\" for more details.
      type: object
      properties:
        payments:
          description: |
            Addressing required access rights to current accounts.
            The array may not be empty.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
        cards:
          description: |
            Addressing required access rights to accounts.
            The array may not be empty.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
        cardAccounts:
          description: |
            Addressing required access rights to card reconciliation accounts.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
        savings:
          description: |
            Addressing required access rights to loan accounts.
            The array may not be empty.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
        loans:
          description: |
            Addressing required access rights to saving accounts.
            The array may not be empty.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
        securities:
          description: |
            Addressing required access rights to security accounts.
            The array may not be empty.
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/accountAccessRights'
    messageCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Message Code\" for more details.
      oneOf:
        - $ref: '#/components/schemas/messageCode_ServiceUnspecific'
        - $ref: '#/components/schemas/messageCode_PisSpecific'
        - $ref: '#/components/schemas/messageCode_AisSpecific'
        - $ref: '#/components/schemas/messageCode_PiisSpecific'
        - $ref: '#/components/schemas/messageCode_SigningBasketSpecific'
        - $ref: '#/components/schemas/messageCode_PushAisSpecific'
    securitiesAccountFee:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Securities Account Fee\" for more details.
      type: object
      required:
        - feeRules
      properties:
        typeCode:
          description: |
            Type of the fee as a code.
            Might be adjusted in the future based on market experience.
          allOf:
            - $ref: '#/components/schemas/SecuritiesFeeTypeCode'
        typeProprietary:
          description: |
            Type of the fee as a proprietary string.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        feeRules:
          description: |
            Array of fee rules. Each rule represents ow the amount of the fee is determined either explicitly by stating the amount or implicitly by providing a percentage, minimum and maximum amount.
            This array will usually only contain one entry to represent the whole rule. Only in the case of the fee being calculated as a tiered percentage, 
            several entries are included to represent the several tiers of the fee rule.
          type: array
          items: 
            $ref: '#/components/schemas/securitiesAccountFeeRule'
        applicableFrom:
          description: |
            First date, when this fee is applicable.
            If not present, the fee is applicable starting with the creation of this account / the latest reporting date supported by the ASPSP.
          allOf:
            - $ref: '#/components/schemas/ISODate'
        applicableTo:
          description: |
            Last date, when this fee is applicable. If not present, the fee is applicable indefinitely.
          allOf:
            - $ref: '#/components/schemas/ISODate'
        additionalInformation:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max500Text'
    psuCredentials:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PSU Credentials\" for more details.
      type: object
      properties:
        password:
          description: |
            Contains a password in plaintext.
          type: string
        encryptedPassword:
          description: |
            Is used when a password is encrypted on application level.
          type: string
    Max4Text:
      type: string
      maxLength: 4
      example: '4CHR'
    MessageCode_SigningBasketSpecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Signing Basket Specific Error Codes\" for more details.
      type: string
      enum: 
        - REFERENCE_MIX_INVALID
      example: 'REFERENCE_MIX_INVALID'
    MessageCode_PiisSpecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIIS Specific Error Codes\" for more details.
      type: string
      enum: 
        - CARD_INVALID
        - NO_PIIS_ACTIVATION
      example: 'CARD_INVALID'
    SCAStatus:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"SCA Status\" for more details.
      type: string
      enum:
        - received
        - psuIdentified
        - psuAuthenticated
        - scaMethodSelected
        - started
        - unconfirmed
        - finalised
        - failed
        - exempted
      example: 'received'
    PreferredMethod:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Preferred Method\" for more details.
      type: string
      enum:
        - LETT
        - MAIL
        - PHON
        - FAXX
        - CELL
      example: 'MAIL'
    error_NG_400_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_400_AIS'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_404_AIS: 
      description: Message codes defined for AIS for HTTP Error code 404 (NOT FOUND).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_404'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_404'
    TransactionStatus:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Transaction Status\" for more details.
      type: string
      enum:
        - ACCC
        - ACCP
        - ACSC
        - ACSP
        - ACTC
        - ACWC
        - ACWP
        - RCVD
        - PDNG
        - RJCT
        - CANC
        - ACFC
        - PATC
        - PART
        - PRES
        - RVCM
        - RVNC
        - RCVC
      example: 'ACCC'
    error_NG_409_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_409_AIS'
        _links:
          $ref: '#/components/schemas/links'
    messageCode_PisSpecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIS Specific Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_PisSpecific_400'
        - $ref: '#/components/schemas/MessageCode_PisSpecific_401'
        - $ref: '#/components/schemas/MessageCode_PisSpecific_403'
        - $ref: '#/components/schemas/MessageCode_PisSpecific_404'
        - $ref: '#/components/schemas/MessageCode_PisSpecific_405'
    _links_201_CONSENT_OTHER: 
      type: object
      additionalProperties: 
        $ref: '#/components/schemas/hrefType'
      properties:
        scaRedirect:
          $ref: '#/components/schemas/hrefType'
        scaOAuth:
          $ref: '#/components/schemas/hrefType'
        confirmation:
          $ref: '#/components/schemas/hrefType'
        startAuthorisation:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuIdentification:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithEncryptedPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithAuthenticationMethodSelection:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithTransactionAuthorisation:
          $ref: '#/components/schemas/hrefType'
        self:
          $ref: '#/components/schemas/hrefType'
        status:
          $ref: '#/components/schemas/hrefType'
        scaStatus:
          $ref: '#/components/schemas/hrefType'
        encryptionCertificates:
          type: array
          items: 
            $ref: '#/components/schemas/hrefType'
    Max70Text:
      type: string
      maxLength: 70
      example: 'Text, maximum of 70 characters.'
    error_NG_401_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_401_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_SigningBasketSpecific_409:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Signing Basket Specific Error Codes\" for more details.
      type: string
      enum: 
        - REFERENCE_STATUS_INVALID
      example: 'REFERENCE_STATUS_INVALID'
    BalanceType:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Balance Type\" for more details.
      type: string
      enum:
        - closingBooked
        - expected
        - openingBooked
        - interimAvailable
        - interimBooked
        - forwardAvailable
        - nonInvoiced
      example: 'closingBooked'
    links:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Links\" for more details.
      type: object
      properties:
        scaRedirect:
          description: |
            A link to an ASPSP site where SCA is performed within the Redirect SCA approach.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        scaOAuth:
          description: |
            The link refers to a JSON document specifying the OAuth details of the ASPSP's authorisation server. JSON document follows the definition given in [RFC 8414].
          allOf:
            - $ref: '#/components/schemas/hrefType'
        confirmation:
          description: |
            \"confirmation\": Might be added by the ASPSP if either the \"scaRedirect\" or \"scaOAuth\" hyperlink is returned in the same response message. 
            This hyperlink defines the URL to the resource which needs to be updated with 
            * a confirmation code as retrieved after the plain redirect authentication process with the ASPSP authentication server or
            * an access token as retrieved by submitting an authorization code after the integrated Oauth based authentication process with the ASPSP authentication server.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        creditorNameConfirmation:
          description: |
            A link to an endpoint, where the submitted payment needs to be confirmed explicitly for execution after a verification of payee process has detected a deviation in the creditor account/creditor name pair.
            If this hyperlink is provided, the addressed payment will not be executed without a related confirmation.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisation:
          description: |
            A link to an endpoint, where the authorisation of a transaction or the authorisation of a transaction cancellation shall be started with a POST command. 
            No specific data is needed for this process start.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuIdentification:
          description: |
            The link to an endpoint where the authorisation of a transaction or of a transaction cancellation shall be started, where PSU identification shall be uploaded 
            with the corresponding call.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        updatePsuIdentification:
          description: |
            The link to the payment initiation or account information resource, which needs to be updated by the PSU identification if not delivered yet.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithProprietaryData:
          description: |
            A link to the endpoint, where the authorisation of a transaction or of a transaction cancellation shall be started, and where proprietary data needs to be updated with this call. 
            The TPP can find the scope of missing proprietary data in the ASPSP documentation.
            The usage of this hyperlink is not further specified in the specification but is used analogously to e.g. the startAuthorisation withPsuIdentification hyperlink.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        updateProprietaryData:
          description: |
            The link to the payment initiation or account information resource, which needs to be updated by the proprietary data.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuAuthentication:
          description: |
            The link to an endpoint where the authorisation of a transaction or of a transaction cancellation shall be started, where PSU authentication data shall be uploaded 
            with the corresponding call.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        updatePsuAuthentication:
          description: |
            The link to the payment initiation or account information resource, which needs to be updated by a PSU password and eventually the PSU identification if not delivered yet. 
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithEncryptedPsuAuthentication:
          description: |
            The link to an endpoint where the authorisation of a transaction or of a transaction cancellation shall be started, where encrypted PSU authentication data shall be uploaded 
            with the corresponding call.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        updateEncryptedPsuAuthentication:
          description: |
            The link to the payment initiation or account information resource, which needs to be updated by an encrypted PSU password and eventually the PSU identification if not delivered yet. 
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithAuthenticationMethodSelection:
          description: |
            This is a link to and endpoint where the authorisation of a transaction or of a transaction cancellation shall be started, 
            where the selected SCA method shall be uploaded  with the corresponding call.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        selectAuthenticationMethod:
          description: |
            This is a link to a resource, where the TPP can select the applicable second factor authentication methods for the PSU, if there were several available authentication methods. 
          allOf:
            - $ref: '#/components/schemas/hrefType'
        startAuthorisationWithTransactionAuthorisation:
          description: |
            A link to an endpoint, where an authorisation of a transaction or a cancellation can be started, and where the response data for the challenge is uploaded in the same call for the 
            transaction authorisation or transaction cancellation at the same time in the Embedded SCA Approach.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        authoriseTransaction:
          description: |
            The link to the payment initiation or consent resource, where the \"Transaction Authorisation\"Request\" is sent to. This is the link to the resource which will authorise the payment or the consent by 
            checking the SCA authentication data within the Embedded SCA approach.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        updateResourceByDebtorAccountResource:
          description: |
            A link to a payment related resource which needs to be updated by an account, referenced by a resource identification.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        self:
          description: |
            The link to the payment initiation resource created by the request itself. 
            This link can be used later to retrieve the transaction status of the payment initiation.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        status:
          description: |
            A link to retrieve the status of the transaction resource.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        transactionfees:
          description: |
            The link is to the status resource.  
            This link is only added within the authorisation process in case fee information is available via the status resource.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        scaStatus:
          description: |
            A link to retrieve the status of the authorisation or cancellation-authorisation sub-resource.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        account:
          description: |
            A link to the resource providing the details of one account
          allOf:
            - $ref: '#/components/schemas/hrefType'
        savingsAccount:
          description: |
            A link to the resource providing the details of a savings account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        loanAccount:
          description: |
            A link to the resource providing the details of a loan account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        balances:
          description: |
            A link to the resource providing the balance of a dedicated account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        transactions:
          description: |
            A link to the resource providing the transaction history of a dedicated account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        cardAccount:
          description: |
            A link to the resource providing the details of one card account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        cardTransactions:
          description: |
            A link to the resource providing the transaction history of a dedicated card account.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        transactionDetails:
          description: |
            A link to the resource providing details of a dedicated transaction.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        ibanCheck:
          description: |
            A link to the endpoint offering the addressed iban check result.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        paymentInitiation:
          description: |
            A link to an initiation related to a payment resource.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        securitiesAccount:
          description: |
            A link to the resource providing the details of one securitiesAccount.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        positions:
          description: |
            A link to the resource providing the list of positions of one securitiesAccount.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        orders:
          description: |
            A link to the resource providing the list of orders of one securitiesAccount.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        orderDetails:
          description: |
            A link to the resource providing details of one specific order.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        relatedOrders:
          description: |
            An array of links to request order details of related orders related to the order that is represented by the data structure containing this element 
            (e.g. other orders that originated from the same order split as this order). 
          type: array
          items:
            $ref: '#/components/schemas/hrefType'
        relatedTransactions:
          description: |
            An array of links to request securities transaction details of transactions that resulted from this order.
          type: array
          items:
            $ref: '#/components/schemas/hrefType'
        subscription:
          description: |
            A link to the resource providing the details of a subscription for Push AIS Services.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        entryStatusRevoked:
          description: |
            Links to entry endpoints where the entry status is revoked.
          type: array
          items:
            $ref: '#/components/schemas/hrefType'
        first:
          description: |
            Navigation link for paginated account reports.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        next:
          description: |
            Navigation link for paginated account reports.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        previous:
          description: |
            Navigation link for paginated account reports.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        last:
          description: |
            Navigation link for paginated account reports.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        download:
          description: |
            Download link for huge AIS data packages.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        confirmInitiation:
          description: |
            link to a confirmation endpoint, where a payment initiation needs to be confirmed explicitly by the API Client for execution.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        aspspParameters:
          description: |
          allOf:
            - $ref: '#/components/schemas/hrefType'
        aspspContacts:
          description: |
          allOf:
            - $ref: '#/components/schemas/hrefType'
        aspspDowntimes:
          description: |
          allOf:
            - $ref: '#/components/schemas/hrefType'
        onboardings:
          description: |
            A link to commercially onboard to the related API, see openFinance, Admin Services for more details.
          allOf:
            - $ref: '#/components/schemas/hrefType'
        readConditions:
          description: |
          allOf:
            - $ref: '#/components/schemas/hrefType'
        confirmConditions:
          description: |
          allOf:
            - $ref: '#/components/schemas/hrefType'
    messageCode_AisSpecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_AisSpecific_400'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_401'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_404'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_406'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_429'
    messageCode_ServiceUnspecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Service Unspecific HTTP Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_400'
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_401'
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_403'
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_404'
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_405'
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_409'
    partyDescription:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Party Description\" for more details.
      type: object
      properties:
        name:
          description: |
            Name of the party.
          allOf:
            - $ref: '#/components/schemas/Max140Text'
        postaladdress:
          description: |
            Postal Address of the party.
          allOf:
            - $ref: '#/components/schemas/postalAddress'
        identification:
          description: |
            Identification of the party.
          allOf:
            - $ref: '#/components/schemas/partyIdentification'
        additionalPartyInformation:
          description: |
            Only supported in extended services for creditor related parties, if at all.
            *NOTE:* This information will be neither put to the related interbank payment nor to account reports/statements and 
            might only be used to display related information to the PSU during potential authorisation processes.
          allOf:
            - $ref: '#/components/schemas/additionalPartyInformation'
    genericFinancialInstitutionIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Generic Financial Institution Identification\" for more details.
      type: object
      required:
        - identification
      properties:
        identification:
          description: |
            Unique and unambiguous identification of a financial insitution.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        schemeNameCode:
          description: |
            An entry provided by an external ISO code list
          allOf:
            - $ref: '#/components/schemas/FinancialInstitutionIdentificationCode'
        schemeNameProprietary:
          description: |
            A scheme name defined in a proprietary way.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        issuer:
          description: |
            Issuer of the identification
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    UUID:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      format: uuid
      example: '99435c7e-ad88-49ec-a2ad-99ddcb1f5555'
    error_RFC7807_404_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_404_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_404_AIS'
        _links:
          $ref: '#/components/schemas/links'
    ConsentTypeCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Consent Type Code\" for more details.
      type: string
      enum:
        - global
        - detailed
        - aspspManaged
        - accountList
      example: 'detailed'
    AuthenticationType:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Authentication Type\" for more details.
      type: string
      enum: 
        - SMS_OTP
        - CHIP_OTP
        - PHOTO_OTP
        - PUSH_OTP
        - SMTP_OTP
      example: 'PUSH_OTP'
    error_RFC7807_400_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_400_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_400_AIS'
        _links:
          $ref: '#/components/schemas/links'
    clientMessageInformation_405_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_405_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    clientMessageInformation_400_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_400'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    clientMessageInformation_405_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_405'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    ClearingSystemIdentificationCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more detail
      type: string
      enum:
        - ATBLZ
        - AUBSB
        - CACPA
        - CHBCC
        - CHSIC
        - CNAPS
        - DEBLZ
        - ESNCC
        - GBDSC
        - GRBIC
        - HKNCC
        - IENCC
        - INFSC
        - ITNCC
        - JPZGN
        - NZNCC
        - PLKNR
        - PTNCC
        - RUCBC
        - SESBA
        - SGIBG
        - THCBC
        - TWNCC
        - USABA
        - USPID
        - ZANCC
        - NZRSA
        - MZBMO
        - CNCIP
        - KRBOK
      example: 'DEBLZ'
    Max16Text:
      type: string
      maxLength: 16
      example: '16 Chars at most'
    accountOwner:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account Owner\" for more details.
      type: object
      required:
        - name
      properties:
        name:
          description: |
            Account owner name
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        role:
          description: |
            The following proprietary codes are used:
            \"owner\", \"legalRepresentative\", \"authorisedUser\".
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        postalAddress:
          description: |
            Information that locates and identifies a specific address, as defined by postal services.
          allOf:
            - $ref: '#/components/schemas/postalAddress'
        identification:
          description: |
            Unique and unambiguous identification of a party
          allOf:
            - $ref: '#/components/schemas/partyIdentification'
        countryOfResidence:
          description: |
            Country in which a person resides. In case of a company, it is the country from which the affairs of that company are directed.
            Constraints: The code is checked against the list of country names obtained from the United Nations (ISO 3166 Alpha-2 code).
          allOf:
            - $ref: '#/components/schemas/CountryCode'
        contactDetails:
          description: |
            Set of elements used to indicated how to contact the party.
          allOf:
            - $ref: '#/components/schemas/contactDetails'
    securitiesAccountFeeRule:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Securities Account Fee Rule\" for more details.
      type: object
      properties:
        amount:
          description: |
            Amount of the fee.
          allOf:
            - $ref: '#/components/schemas/amount'
        percentage:
          description: |
            Percentage of the fee. Up to 20 significant figures. The decimal separator is a dot.
            Trailing zeroes must be truncated.Fee as a percentage.
          type: string
          pattern: '-?[0-9]{1,20}(\.[0-9]{0,19})?'
        fromBaseAmount:
          description: |
            To be used for fees where a tiered percentage is used to calculate the fee relative to an implicitly defined base amount (such as a transaction's volume being the base amount for a courtage).
            The range of one tier is defined as all applicable entities with base amounts X and 
            fromBaseAmount \u2264 X \u2264 toBaseAmount.
            In any array of fee rules, only one of these entries may be missing the \"fromBaseAmount\" element (indicating that the rule represented by this entry is used without 
            a lower bound to the base amount) and only one entry may be missing the \"toBaseAmount\" element (indicating that the rule represented by this entry is applied without an 
            upper limit to the base amount). In cases, where the fee is not calculated as a tiered percentage, only one entry in array \"feeRules\" is included. 
            This entry must be missing both subelements \"fromBaseAmount\" and \"toBaseAmount\".
          allOf:
            - $ref: '#/components/schemas/amount'
        toBaseAmount:
          description: |
            To be used for fees where a tiered percentage is used to calculate the fee relative to an implicitly defined base amount (such as a transaction's volume being the base amount for a courtage).
            The range of one tier is defined as all applicable entities with base amounts X and 
            fromBaseAmount \u2264 X \u2264 toBaseAmount.
            In any array of fee rules, only one of these entries may be missing the \"fromBaseAmount\" element (indicating that the rule represented by this entry is used without 
            a lower bound to the base amount) and only one entry may be missing the \"toBaseAmount\" element (indicating that the rule represented by this entry is applied without an 
            upper limit to the base amount). In cases, where the fee is not calculated as a tiered percentage, only one entry in array \"feeRules\" is included. 
            This entry must be missing both subelements \"fromBaseAmount\" and \"toBaseAmount\".
          allOf:
            - $ref: '#/components/schemas/amount'
        minimumAmount:
          description: |
            Minimum amount of the fee in each billing period / for each billed event if applicable.
          allOf:
            - $ref: '#/components/schemas/amount'
        maximumAmount:
          description: |
            Maximum amount of the fee in each billing / for each billed event period if applicable.
          allOf:
            - $ref: '#/components/schemas/amount'
    accountRelatedDates:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account related Dates\" for more details.
      type: object
      properties:
        contractStartDate:
          description: |
            Start of the account contract.
          allOf:
            - $ref: '#/components/schemas/ISODate'
        contractEndDate:
          description: |
            End of the account contract.
          allOf:
            - $ref: '#/components/schemas/ISODate'
        contractAvailabilityDate:
          description: |
            Next Date where money can be taken off a saving account without loss of interest, if initiated now (in case of a saving account).
            Next Date where a loan can be fully repaid without any extra fee.
          allOf:
            - $ref: '#/components/schemas/ISODate'
    postalAddress:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Postal Address (Either Structured or Unstructured Address)\" for more details.
      type: object
      properties:
        addressLines:
          description: |
            At most seven entries are permitted. May only be used, if none of the structured address elements \"streetName\", \"buildingNumber\", \"postcode\" or \"townName\" is used.
            *Remark:* For SEPA transactions this is further restricted to a maximum of 1 entry.
          type: array
          maxItems: 7
          items:
            $ref: '#/components/schemas/Max140Text'
        department:
          description: |
            Identification of a division of a large organisation or building.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        subDepartment:
          description: |
            Identification of a sub-division of a large organisation or building.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        streetName:
          description: |
            Name of a street or thoroughfare.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        buildingNumber:
          description: |
            Number that identifies the position of a building on a street.
          allOf:
            - $ref: '#/components/schemas/Max16Text'
        buildingName:
          description: |
            Name of the building or house.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        floor:
          description: |
            Floor or storey within a building.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        postBox:
          description: |
            Numbered box in a post office, assigned to a person or organisation, where letters are kept until called for.
          allOf:
            - $ref: '#/components/schemas/Max16Text'
        room:
          description: |
            Building room number.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        postCode:
          description: |
            Identifier consisting of a group of letters and/or numbers that is added to a postal address to assist the sorting of mail.
          allOf:
            - $ref: '#/components/schemas/Max16Text'
        townName:
          description: |
            Name of a built-up area, with defined boundaries, and a local government. 
            *Usage Rule:* If address lines are not used, this attribute is mandatrory.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        townLocationName:
          description: |
            Specific location name within the town.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        districtName:
          description: |
            Identifies a subdivision within a country sub-division.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        countrySubDivision:
          description: |
            Identifies a subdivision of a country such as state, region, county.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        country:
          description: |
            Nation with its own government.
            *Usage Rule:* If address lines are not used, this attribute is mandatrory.
          allOf:
            - $ref: '#/components/schemas/CountryCode'
    personIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Person Identification\" for more details.
      type: object
      required:
        - identification
      properties:
        identification:
          description: |
            Unique and unambiguous identification of a oersib.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        schemeNameCode:
          description: |
            An entry provided by an external ISO code list
          allOf:
            - $ref: '#/components/schemas/PersonIdentificationCode'
        schemeNameProprietary:
          description: |
            A scheme name defined in a proprietary way.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        issuer:
          description: |
            Issuer of the identification
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    MessageCode_AisSpecific_429:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - ACCESS_EXCEEDED
      example: 'ACCESS_EXCEEDED'
    PartyIdentificationMatchCode:
      description: |
        See document \"openFinance API Framework Extended Services Verification of Party (VOP) \", 
        section \"Party Identification Match Code\" for more details.
        Code    Desription
         MTCH     Match
         NMTC     No match
         NOAP     Validation check is not applicable
         NOTC     Validation check has not been carried out.        
      type: string
      enum:
        - MTCH
        - NMTC
        - NOAP
      example: 'MTCH'
    _links_201_CONSENT_ACCOUNT: 
      type: object
      additionalProperties: 
        $ref: '#/components/schemas/hrefType'
      properties:
        scaRedirect:
          $ref: '#/components/schemas/hrefType'
        scaOAuth:
          $ref: '#/components/schemas/hrefType'
        confirmation:
          $ref: '#/components/schemas/hrefType'
        startAuthorisation:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuIdentification:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithEncryptedPsuAuthentication:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithAuthenticationMethodSelection:
          $ref: '#/components/schemas/hrefType'
        startAuthorisationWithTransactionAuthorisation:
          $ref: '#/components/schemas/hrefType'
        self:
          $ref: '#/components/schemas/hrefType'
        status:
          $ref: '#/components/schemas/hrefType'
        scaStatus:
          $ref: '#/components/schemas/hrefType'
        encryptionCertificates:
          type: array
          items: 
            $ref: '#/components/schemas/hrefType'
    messageCode_PiisSpecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"PIIS Specific Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_PiisSpecific_400'
    AccountIdentificationCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      enum: 
        - AIIN
        - BBAN
        - CUID
        - UPIC
      example: 'AIIN'
    clientMessageInformation_401_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_401'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    clearingSystemMemberIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Clearing System Member Identification\" for more details.
      type: object
      properties:
        memberId:
          description: |
            Identification of a member of a clearing system.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        clearingSystemIdentificationCode:
          description: |
            Identification of a clearing system, in a coded form as published in an external list.
          allOf:
            - $ref: '#/components/schemas/ClearingSystemIdentificationCode'
        clearingSystemIdentificationProprietary:
          description: |
            Identification code for a clearing system, that has not yet been identified in the list of clearing systems.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
    error_RFC7807_409: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_409_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_409_AIS'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_409_AIS: 
      description: |
        Message codes defined for AIS for HTTP Error code 409 (CONFLICT).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_409'
    additionalPartyInformation:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Additional Party Information\" for more details.
      type: object
      properties:
        tradeName:
          description: |
            Trade name of the related party. For display to the PSU only.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        merchantCategoryCode:
          description: |
            Merchant Category Code as assigned by ISO:
          allOf:
            - $ref: '#/components/schemas/MerchantCategoryCode'
        logoURL:
          description: |
            A hyperlink to the logo of the party.
          allOf:
            - $ref: '#/components/schemas/Max2048Text'
        geoLocation:
          description: |
          allOf:
            - $ref: '#/components/schemas/GeoLocation'
    messageCode_PushAisSpecific:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Push AIS Specific Error Codes\" for more details.
      oneOf:
        - $ref: '#/components/schemas/MessageCode_PushAisSpecific_400'
        - $ref: '#/components/schemas/MessageCode_PushAisSpecific_409'
    MessageCode_400_AIS: 
      description: Message codes defined for AIS for HTTP Error code 400 (BAD_REQUEST).
      anyOf:
        - $ref: '#/components/schemas/MessageCode_ServiceUnspecific_400'
        - $ref: '#/components/schemas/MessageCode_AisSpecific_400'
    authenticationObject:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Authentication Object\" for more details.
      type: object
      required:
        - authenticationType
        - authenticationMethodId
        - name
      properties:
        authenticationType:
          description: |
            Type of the authentication method.
          allOf:
            - $ref: '#/components/schemas/AuthenticationType'
        authenticationVersion:
          description: |
            Depending on the \"authenticationType\". This version can be used by differentiating authentication tools used within performing OTP generation in the same authentication type. 
            This version can be referred to in the ASPSP's documentation.
          type: string
        authenticationMethodId:
          description: |
            An identification provided by the ASPSP for the later identification of the authentication method selection.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        name:
          description: |
            This is the name of the authentication method defined by the PSU in the Online Banking frontend of the ASPSP. 
            Alternatively this could be a description provided by the ASPSP like \"SMS OTP on phone +49160 xxxxx 28\".
            This name shall be used by the TPP when presenting a list of authentication methods to the PSU, if available.
          type: string
        explanation:
          description: |
            detailed information about the SCA method for the PSU
          type: string
    error_RFC7807_409_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_409_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_409_AIS'
        _links:
          $ref: '#/components/schemas/links'
    interest:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Interest\" for more details.
      type: object
      required:
        - rate
      properties:
        type:
          description: |
            Type of the interest. Currently, interests are distinguished between those with fixed rates (\"FIXD\") and those with rates derived from an index (\"INDE\").
          allOf:
            - $ref: '#/components/schemas/InterestTypeCode3'
        relatedIndices:
          description: |
            List of indices related to the interest rate.
          type: array
          items:
            $ref: '#/components/schemas/index'
        rate:
          description: |
            An array of interest rates, which might apply to different amount ranges.
          type: array
          items:
            $ref: '#/components/schemas/amountDependentRate'
        fromDateTime:
          description: |
            The date from which this interest rate is applicable. If no exact time is applicable, 00:00:00 is chosen as time definition.
          allOf:
            - $ref: '#/components/schemas/ISODateTime'
        toDateTime:
          description: |
            The date until this interest rate is applicable. If no exact time is applicable, 23:59:59 is chosen as time definition.
          allOf:
            - $ref: '#/components/schemas/ISODateTime'
        reason:
          description: |
            Specifies the reason of the interest.
            Though arbitrary text is technically supported, it is recommended to use the following keywords with pre-defined meaning:
            * *arrears:*The addressed interest rate applies only in case of arrears.
            * *alternateRateMaximumOf:* The addressed alternate interest rate applies in cases where this rate implies a higher interest in a dedicated interest period
            than the regular interest rate provided without reason element.
            * *alternateRateMinimumOf:* The addressed alternate interest rate applies in case where this rate implies a lower interest in a dedicated interest period
            than the regular interest rate provided without reason element.
            ASPSPs may define further keywords and shall publish them in their documentation.
          allOf:
                - $ref: '#/components/schemas/Max35Text'
        changeMechanism:
          description: |
            An explanation of a mandated change mechanism.
          allOf:
            - $ref: '#/components/schemas/Max1024Text'
    clientMessageInformation_409:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_409_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    DocumentTypeCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      enum:
        - CINV
        - CNFA
        - CONT
        - CREN
        - DEBN
        - DISP
        - DNFA
        - HIRI
        - INVS
        - MSIN
        - PROF
        - PUOR
        - QUOT
        - SBIN
        - SPRR
        - TISH
        - USAR
      example: 'CINV'
    error_RFC7807_405_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_405'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_405'
        _links:
          $ref: '#/components/schemas/links'
    MerchantCategoryCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      maxLength: 4
      minLength: 4
    error_NG_404_AIS: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_404_AIS'
        _links:
          $ref: '#/components/schemas/links'
    Max1000Text:
      type: string
      maxLength: 1000
      example: 'Text, maximum of 1000 characters.'
    CountryCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[A-Z]{2}'
      example: 'SE'
    clientMessageInformation:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Client Message Information\" for more details.
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          description: |
          allOf:
            - $ref: '#/components/schemas/messageCode'
        path:
          description: |
            Path of the element of the request message which provoked the error message, if applicable
          type: string
        text:
          description: |
            Additional explaining text.
          allOf:
            - $ref: '#/components/schemas/Max500Text'
    error_RFC7807_405_AIS: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_405_AIS'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_405_AIS'
        _links:
          $ref: '#/components/schemas/links'
    error_NG_409_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_409_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    Max105Text:
      type: string
      maxLength: 105
      example: 'Text, maximum of 105 characters.'
    amount:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Amount\" for more details.
      type: object
      required:
        - currency
        - amount
      properties:
        currency:
          description: |
            ISO 4217 Alpha 3 currency code
          allOf:
            - $ref: '#/components/schemas/CurrencyCode'
        amount:
          description: |
            The amount given with fractional digits, where fractions must be compliant to the currency definition. Up to 14 significant figures. Negative amounts are signed by minus.
            The decimal separator is a dot.
            Example: Valid representations for EUR with up to two decimals are:
            * 1056
            * 5768.2
            * -1.50
            * 5877.78
          type: string
          pattern: '-?[0-9]{1,14}(\.[0-9]{1,3})?'
    proxyAccountIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Proxy Account Identification\" for more details.
      type: object
      required:
        - identification
      properties:
        typeCode:
          description: |
            Type of the proxy identification
          allOf:
            - $ref: '#/components/schemas/ProxyAccountTypeCode'
        typeProprietary:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        identification:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max2048Text'
    StatusReasonCode:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Status Reason Code\" for more details.
      type: string
      enum:
        - AM04
        - AM21
        - BEXX
        - CN01
        - DS0C
        - DS0D
        - DS0A
        - DS04
        - FOCR
        - SL11
        - TKSP
        - TKXP
        - AM02
        - DT05
        - AC05
        - AC06
        - DS0K
        - DT01
        - UPAY
        - EOL1
      example: 'AM04'
    contactDetails:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Contact Details\" for more details.
      type: object
      properties:
        namePrefix:
          description: |
            Specifies the terms used to formally address a person.
          allOf:
            - $ref: '#/components/schemas/NamePrefixCode'
        name:
          description: |
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        phoneNumber:
          description: |
            pattern \+[0-9]{1,3}-[0-9()+\-]{1,30}
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        mobileNumber:
          description: |
            pattern \+[0-9]{1,3}-[0-9()+\-]{1,30}
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        faxNumber:
          description: |
            pattern \+[0-9]{1,3}-[0-9()+\-]{1,30}
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        emailAddress:
          description: |
            Address for electronic mail (e-mail).
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        emailPurpose:
          description: |
            Purpose for which an email address may be used.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        jobTitle:
          description: |
            Title of the function.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        responsibility:
          description: |
            Role of a person in an organisation.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        department:
          description: |
            Identification of a division of a large organisation or building.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        preferredMethod:
          description: |
            Preferred method used to reach the contact.
          allOf:
            - $ref: '#/components/schemas/PreferredMethod'
    MessageCode_AisSpecific_401:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      type: string
      pattern: '^(?!(CONSENT_INVALID|^(?!(CONSENT_INVALID))))'
    LEI:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      pattern: '[A-Z0-9]{18,18}[0-9]{2,2}'
      example: '549300DTUYXVMJXZNY75'
    MessageCode_AisSpecific_404:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - CONTENT_TEMPORARILY_NOT_AVAILABLE
      example: 'CONTENT_TEMPORARILY_NOT_AVAILABLE'
    error_RFC7807_404_AUTHORISATION: 
      description: |
        Standardised definition of reporting error information according to [RFC7807].
      type: object
      required:
        - type
        - code
      properties:
        type: 
          description: |
            A URI reference [RFC3986] that identifies the problem type. 
            Remark For Future: These URI will be provided by openFinance API Framework in future.
          type: string
          format: uri
          maxLength: 70
        title:
          description: |
            Short human readable description of error type. Could be in local language. To be provided by ASPSPs.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        status:
          description: |
            HTTP response code generated by the server.
            If contained, this is more relevant as the actual http response code in the actual response, because it is introduced by the application server.            
          type: integer
        detail:
          description: |
            Detailed human readable text specific to this instance of the error. 
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        instance:
          description: |
            This attribute is containing a JSON pointer (as defined in [RFC6901]) or XPath expression to indicate the path to an issue generating the error in the related request.
          allOf:
            - $ref: '#/components/schemas/Max256Text'
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_404'
        additionalErrors:
          description: |
            Array of Error Information Blocks.
            Might be used if more than one error is to be communicated
          type: array
          items: #ErrorInformation
            description: This is a data element to support the declaration of additional errors in the context of [RFC7807]. 
            type: object
            required:
              - code
            properties:
              title:
                $ref: '#/components/schemas/Max70Text'
              detail:
                $ref: '#/components/schemas/Max500Text'
              code:
                $ref: '#/components/schemas/MessageCode_ServiceUnspecific_404'
        _links:
          $ref: '#/components/schemas/links'
    MessageCode_AisSpecific_406:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - REQUESTED_FORMATS_INVALID
      example: 'REQUESTED_FORMATS_INVALID'
    InterestTypeCode3:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Interest Type Code\" for more details.
      type: string
      enum:
        - FIXD
        - INDE
      example: 'FIXD'
    clientMessageInformation_409_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_409_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    accountDetails:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Account Details\" for more details.
      type: object
      required:
        - resourceId
        - currency
      properties:
        resourceId:
          description: |
            This is the data element to be used in the path when retrieving data from a dedicated account.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        iban:
          description: |
            IBAN of the account.
          allOf:
            - $ref: '#/components/schemas/IBAN'
        bban:
          description: |
            BBAN of the account. This data elements is used for payment accounts which have no IBAN.
          allOf:
            - $ref: '#/components/schemas/BBAN'
        msisdn:
          description: |
            An alias to access a payment account via a registered mobile phone number. This alias might be needed e.g. in the payment initiation services.
            The support of this alias must be explicitly documented by the ASPSP for the corresponding API Calls.
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        other:
          description: |
            An alias with a proprietary coding
          allOf:
            - $ref: '#/components/schemas/genericAccountIdentification'
        currency:
          description: |
            Account currency
          allOf:
            - $ref: '#/components/schemas/CurrencyCode'
        ownerName:
          description: |
            Name of the legal account owner. If there is more than one owner, then e.g. two names might be noted here.
            For a corporate account, the corporate name is used for this attribute.
            Even if supported by the ASPSP, the provision of this field might depend on the fact whether  an explicit consent to this specific additional account information has been given by the PSU.
            NOTE: This attribute is deprecated in later versions.
          allOf:
            - $ref: '#/components/schemas/Max140Text'
        ownerNames:
          description: |
            List of owner names together with a role, where applicable.
            NOTE: This attribute is deprecated in later versions.
          type: array
          items:
            $ref: '#/components/schemas/accountOwner'
        owner:
          description: |
            The party that legally owns the account.
          allOf:
            - $ref: '#/components/schemas/accountOwner'
        owners:
          description: |
            List of account owners.
          type: array
          items:
            $ref: '#/components/schemas/accountOwner'
        name:
          description: |
            Name of the account, as assigned by the ASPSP, in agreement with the account owner in order to provide an additional means of identification of the account.
          allOf: 
            - $ref: '#/components/schemas/Max70Text'
        displayName:
          description: |
            Name of the account as defined by the PSU within online channels.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        product:
          description: |
            Product Name of the Bank for this account, proprietary definition
          allOf:
            - $ref: '#/components/schemas/Max35Text'
        cashAccountType:
          description: |
            ExternalCashAccountType1Code from ISO 20022
          allOf:
            - $ref: '#/components/schemas/CashAccountType'
        status:
          description: |
            Account status.
            If this field is not used, than the account is available in the sense of this specification.
          allOf:
            - $ref: '#/components/schemas/AccountStatusCode'
        bic:
          description: |
                    The BIC associated to the account.
          allOf:
            - $ref: '#/components/schemas/BICFI'
        linkedAccounts:
          description: |
            This data attribute is a field, where an ASPSP can name a cash account associated to the described account, e.g. in case of a securities account or a card account.
          allOf:
            - $ref: '#/components/schemas/Max70Text'
        usage:
          description: |
            Specifies the usage of the account
            * \"PRIV\": private personal account
            * \"ORGA\": professional account
          allOf:
            - $ref: '#/components/schemas/Max4Text'
        details:
          description: |
            Specifications that might be provided by the ASPSP
            * characteristics of the account
            * characteristics of the relevant card
          allOf:
            - $ref: '#/components/schemas/Max500Text'
        balances:
          type: array
          items:
            $ref: '#/components/schemas/balance'
        tariffs:
          description: |
            Currently only supported for securities accounts:
            Text information on tariffs related to this securities account.
          allOf:
            - $ref: '#/components/schemas/Max1000Text'
        applicableFees:
          description: |
            Currently only supported for securities accounts:
            Array of elements, each representing one fee (rule) that is individually applicable for this Securities account. 
            If, for example, an ASPSP applies a standard \"managementFee\" X, but the consumer negotiated a discount D, an element should represent (X-D), but neither X nor D.
          type: array
          items:
            $ref: '#/components/schemas/securitiesAccountFee'
        interest:
          description: |
            Currently only supported for savings accounts and loan accounts:
            A set of interest rates associated to this account, e.g. interests for savings or credits.
          type: array
          items:
            $ref: '#/components/schemas/interest'
        relatedDates:
          description: |
            Currently only supported for securities accounts:
            Text information on tariffs related to this securities account.
          allOf:
            - $ref: '#/components/schemas/accountRelatedDates'
        collateralsInvolved:
          description: |
            Currently only supported for loan accounts:
            Is set to true if a collateral is involved securing the loan (e.g. security deposit, physical collaterals like houses, cars). 
            More information might be provided under the \"details\" attribute.
          type: boolean
        guaranteeInvolved:
          description: |
            Currently only supported for loan accounts:
            Is set to true in case of specific collaterals where a guarantee of payment of the loan is given by a different person.
          type: boolean
        _links:
          description: |
            Links to the account, which can be directly used for retrieving account information from this dedicated account.
            Links to \"balances\" and/or \"transactions\".
            Links to \"orders\" and/or \"positions\" in the case of securities accounts.
            These links are only supported, when the corresponding consent has been already granted.
          allOf:
            - $ref: '#/components/schemas/links'
    challenge:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Challenge\" for more details.
      type: object
      properties:
        image:
          description: |
            PNG data (max. 512 kilobyte) to be displayed to the PSU, Base64 encoding, cp. [RFC4648].
            This attribute is used only, when PHOTO_OTP or CHIP_OTP is the selected SCA method.
          type: string
        data:
          description: |
            A collection of challenge data
          type: array
          items: 
            type: string
        imageLink:
          description: |
            A link where the ASPSP will provides the challenge image for the TPP.
          type: string
        otpMaxLength:
          description: |
            The maximal length for the OTP to be typed in by the PSU.
          type: integer
        otpFormat:
          description: |
            The format type of the OTP to be typed in. The admitted values are \"characters\" or \"integer\".
          type: string
        additionalInformation:
          description: |
            Additional explanation for the PSU to explain e.g. fallback mechanism for the chosen SCA method. The TPP is obliged to show this to the PSU.
          type: string
    ISODateTime:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Other ISO-related basic Types\" for more details.
      type: string
      format: date-time
      example: '2020-01-01T13:00:00.999-01:00'
    error_NG_409: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_409'
        _links:
          $ref: '#/components/schemas/links'
    partyIdentification:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"Party Identification\" for more details.
      type: object
      properties:
        organisationId:
          description: |
            An entry provided by an external ISO code list
          allOf:
            - $ref: '#/components/schemas/organisationIdentification'
        privateId:
          description: |
            A scheme name defined in a proprietary way.
          allOf:
            - $ref: '#/components/schemas/privateIdentification'
    MessageCode_AisSpecific_400:
      description: |
        See document \"openFinance API Framework Data Dictionary\", section \"AIS Specific HTTP Error Codes\" for more details.
      type: string
      enum: 
        - CONSENT_TYPE_NOT_SUPPORTED
        - SESSIONS_NOT_SUPPORTED
      example: 'SESSIONS_NOT_SUPPORTED'
    clientMessageInformation_403_AUTHORISATION:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_ServiceUnspecific_403'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    clientMessageInformation_400_AIS:
      type: object
      required:
        - category
        - code
      properties:
        category:
          description: |
            Only \"ERROR\" or \"WARNING\" permitted
          type: string
        code:
          $ref: '#/components/schemas/MessageCode_400_AIS'
        path:
          type: string
        text:
          $ref: '#/components/schemas/Max500Text'
    error_NG_400_AUTHORISATION: 
      type: object
      properties:
        apiClientMessages:
          type: array
          items:
            $ref: '#/components/schemas/clientMessageInformation_400_AUTHORISATION'
        _links:
          $ref: '#/components/schemas/links'
    Max1024Text:
      type: string
      maxLength: 1024
      example: 'Text, maximum of 1024 characters.'
  parameters:
    HEADER_psuAccept:
      name: PSU-Accept
      in: header
      description: |
        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: 'application/json'
    HEADER_psuGeoLocation:
      name: PSU-Geo-Location
      in: header
      description: |
        The forwarded Geo Location of the corresponding http request between PSU and TPP if available.
      schema:
        type: string
        pattern: 'GEO:-?[0-9]{1,2}\.[0-9]{6};-?[0-9]{1,3}\.[0-9]{6}'
      required: false
      example: 'GEO:52.506931;13.144558'
    HEADER_psuId: 
      name: PSU-ID
      in: header
      description: |
        Client ID of the PSU in the ASPSP client interface. 
        Might be mandated in the ASPSP's documentation.
        It might be contained even if an OAuth2 based authentication was performed in a pre-step or an OAuth2 based SCA was performed in an preceding
        AIS service in the same session.
        In this case the ASPSP might check whether PSU-ID and token match, 
        according to ASPSP documentation.
      required: false
      schema:
        $ref: '#/components/schemas/Max140Text'
      example: 'PSU-1234'
    HEADER_psuIdType: 
      name: PSU-ID-Type
      in: header
      description: |
        Type of the PSU-ID, needed in scenarios where PSUs have several PSU-IDs as access possibility.
        In this case, the mean and use are then defined in the ASPSP's documentation.
      required: false
      schema:
        $ref: '#/components/schemas/Max35Text'
      example: 'PSU-ID-TYPE_C'
    HEADER_clientNotificationContentPreferred:
      name: Client-Notification-Content-Preferred
      in: header
      description: |
        The string has the form 
        status=X1, ..., Xn
        where Xi is one of the constants SCA, PROCESS, LAST and where constants are not
        repeated.
        The usage of the constants supports the of following semantics:
          SCA: A notification on every change of the scaStatus attribute for all related authorisation processes is preferred by the API Client.
          PROCESS: A notification on all changes of consentStatus or transactionStatus attributes is preferred by the API Client.
          LAST: Only a notification on the last consentStatus or transactionStatus as available in the XS2A interface is preferred by the API Client.
        This header field may be ignored, if the ASPSP does not support resource notification services for the related API Client.
      schema:
        type: string
      required: false
      example: 'status=SCA'
    PATH_consentId:
      name: consentId
      in: path
      description: |
        ID of the corresponding consent object as returned by an account information consent request.
      required: true
      schema:
        $ref: '#/components/schemas/Max70Text'
    QUERY_toBeSigned:
      name: toBeSigned
      in: query
      description: |
        The API Client requests the exact representation of the resource, which needs to be signed. If present, this parameter must be set to true.
      required: false
      schema:
        type: boolean
        enum: [true]
    HEADER_clientScaApproachPreference:
      name: Client-SCA-Approach-Preference
      in: header
      description: |
        A comma separated list of attributes, where the first entry will have a higher priority than the next or to every SCA Approach which is not indicated at all, e.g.
        \"decoupled, redirect, embedded, signature\"
        or 
        \"decoupled\"
        This attribute may be ignored by the ASPSP
      schema:
        $ref: '#/components/schemas/Max35Text'
      required: false
      example: 'decoupled, redirect, embedded'
    HEADER_psuAcceptEncoding:
      name: PSU-Accept-Encoding
      in: header
      description: |
        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: '*'
    HEADER_bodySigProfile:
      name: Body-Sig-Profile 
      in: header
      description: |
         Indicates the signature profile used for signing (parts of) the body. Shall be used if the body is signed.
      required: false
      schema:
        type: string
        enum:
          - JAdES_JS
          - XAdES
          - EMV_AC
          - EUDIW
      example: 'XAdES'
    HEADER_psuAcceptCharset:
      name: PSU-Accept-Charset
      in: header
      description: |
        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: '*'
    HEADER_psuDeviceId:
      name: PSU-Device-ID
      in: header
      description: |
        UUID (Universally Unique Identifier) for a device, which is used by the PSU, if available.
        UUID identifies either a device or a device dependant application installation.
        In case of an installation identification this ID needs to be unaltered until removal from device.
      schema:
        type: string
        format: uuid
      required: false
      example: '99435c7e-ad88-49ec-a2ad-99ddcb1f5555'
    HEADER_psuUserAgent:
      name: PSU-User-Agent
      in: header
      description: |
        The forwarded Agent header field of the HTTP request between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: 'Mozilla/5.0 (Windows NT 10.0; WOW64; rv:54.0) Gecko/20100101 Firefox/54.0'
    HEADER_clientNokRedirectUri:
      name: Client-Nok-Redirect-URI
      in: header
      description: |
        If this URI is contained, the TPP is asking to redirect the transaction flow to this address instead of the Client-Redirect-URI in case
        of a negative result of the redirect SCA method. This might be ignored by the ASPSP.
      schema:
        type: string
        format: uri
      required: false
      example: 'https://exampleclient.com/NokUri?clientEvent=11111111'
    HEADER_bodyEncList:
      name: Body-Enc-List
      in: header
      description: |
          Contains a List of names of data elements/ attributes of the body which contain encrypted information
      required: false
      schema:
        type: string
      example: 'BODY'
    HEADER_clientExplicitAuthorisationPreferred:
      name: Client-Explicit-Authorisation-Preferred
      in: header
      description: |
        If it equals \"true\", the API Client prefers to start the authorisation process separately, 
        e.g. because of the usage of a signing basket or because of asynchronous authorisation. 
        This preference might be ignored by the ASPSP, if a signing basket is not supported as functionality or if asynchronous authorisation is not supported.
        If it equals \"false\" or if the parameter is not used, there is no preference of the API Client. 
        This especially indicates that the API Client assumes a direct authorisation of the transaction in the next step, 
        without using a signing basket.
      schema:
        type: boolean
      required: false
      example: true
    HEADER_psuAcceptLanguage:
      name: PSU-Accept-Language
      in: header
      description: |
        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: 'en-gb,en;0.8'
    HEADER_psuIpPort:
      name: PSU-IP-Port
      in: header
      description: |
        The forwarded IP Port header field consists of the corresponding HTTP request IP Port field between PSU and TPP, if available.
      schema:
        type: string
      required: false
      example: '1234'
    PATH_authorisationCategory:
      name: authorisation-category
      in: path
      description: |
        The following two categories are supported: 
        * authorisations: used in case of an authorisation of the related business transaction.
        * cancellation-authorisations: used in case of the cancellation authorisation of the related business transaction. Used only if applicable to the addressed {service} 
      required: true
      schema:
        type: string
        enum: 
          - authorisations
          - cancellation-authorisations
      example: 'authorisations'
    HEADER_clientNotificationUri:
      name: Client-Notification-URI
      in: header
      description: |
         URI for the Endpoint of the Client API to which the status of the resource should be sent. 
         This header field may by ignored by the ASPSP if the resource status push function is not supported for the related API client. 
      schema:
        type: string
      required: false
      example: 'https://exampleclient.com/NotificationUri?clientEvent=11111111'
    HEADER_digest:
      name: Digest
      in: header
      description: |
        When API Client include a signature according to this signature profile, they also must include a \"Digest\" header as defined in [RFC3230]. 
        The \"Digest\" Header contains a Hash of the message body. If the message does not contain a body, the \"Digest\" header must contain the hash of an empty byte list.
        The only hash algorithms that may be used to calculate the Digest within the context of this specification are SHA-256 and SHA-512 as defined in [RFC5843]. 
      schema:
        type: string
      required: false # conditional
      example: 'SHA-256=hl1/Eps8BEQW58FJhDApwJXjGY4nr1ArGDHIT25vq6A='
    PATH_resourceId:
      name: resourceId
      in: path
      description: |
        Resource identification of the related payment initiation, signing basket, consent, subscription or other related business transaction resource. 
      required: true
      schema:
        $ref: '#/components/schemas/Max70Text'
      example: '1234-resource-567'
    PATH_resourcePath:
      name: resource-path
      in: path
      description: |
        This resource path can be a one-level parameter {service} or a two-level parameter {service}/{product-type}, where 
        * {service} stands for the service type of the related business transaction, e.g. /payments or /consents source.
        * {product-type} stands for the product-type of the related business transaction where applicable, e.g. 
        sepa-credit-transfers in the case of payments or account-access in case of consents.
      required: true
      schema:
        type: string
      example: 'consents/account-access'
    HEADER_psuCorporateId: 
      name: PSU-Corporate-ID
      in: header
      description: |
        Might be mandated in the ASPSP's documentation. Only used in a corporate context.
      required: false
      schema:
        $ref: '#/components/schemas/Max140Text'
      example: 'PSU-CORP-ID1234'
    HEADER_psuIpAddress_optional:
      name: PSU-IP-Address
      in: header
      description: |
         The forwarded IP Address header field consists of the corresponding HTTP request IP Address field between PSU and TPP. Conditions will be defined within service specifications, If applicable. 
      schema:
        type: string
        format: ipv4
      required: false
      example: '192.168.8.78'
    PATH_authorisationId:
      name: authorisationId
      in: path
      description: Resource identification of the related SCA.
      required: true
      schema:
        $ref: '#/components/schemas/Max70Text'
      example: '123auth456'
    HEADER_clientRedirectUri:
      name: Client-Redirect-URI
      in: header
      description: |
        URI of the TPP, where the transaction flow shall be redirected to after a Redirect. Mandated for the Redirect SCA Approach. 
        It is recommended to always use this header field. 
      schema:
        type: string
        format: uri
      required: false # conditional
      example: 'https://exampleclient.com/redirectUri?clientEvent=11111111'
    HEADER_xRequestId:
      name: X-Request-ID
      in: header
      description: ID of the request, unique to the call, as determined by the initiating party.
      required: true
      schema:
        type: string
        format: uuid
      example: '99391c7e-ad88-49ec-a2ad-99ddcb1f7721'
    HEADER_psuIpAddress_mandatory:
      name: PSU-IP-Address
      in: header
      description: |
        The forwarded IP Address header field consists of the corresponding http request IP Address field between PSU and TPP.
        If not available, the TPP shall use the IP Address used by the TPP when submitting this request.
      schema:
        type: string
        format: ipv4
      required: true
      example: '192.168.8.78'
    HEADER_bodyEncProfile:
      name: Body-Enc-Profile 
      in: header
      description: |
         Indicates the encryption profile used for the encryption of (parts of) the body.
      required: false
      schema:
        type: string
        enum:
          - JWE_CS
          - XML_ENC
      example: 'JWE_CS'
    HEADER_psuHttpMethod:
      name: PSU-Http-Method
      in: header
      description: |
        HTTP method used at the PSU ? TPP interface, if available.
        Valid values are:
        * GET
        * POST
        * PUT
        * PATCH
        * DELETE
      schema:
        type: string
        enum:
          - GET
          - POST
          - PUT
          - PATCH
          - DELETE
      required: false
      example: 'GET'
    HEADER_clientBrandLoggingInformation:
      name: Client-Brand-Logging-Information
      in: header
      description: |
        This header might be used by API Clients to inform the ASPSP about the brand used by the API Client towards the PSU. This information is meant for 
        logging entries to enhance communication between ASPSP and PSU or ASPSP and API Client.
        This header might be ignored by the ASPSP. 
      schema:
        $ref: '#/components/schemas/Max140Text'
      required: false
      example: 'ClientBrandB'
    HEADER_psuCorporateIdType: 
      name: PSU-Corporate-ID-Type
      in: header
      description: |
        Might be mandated in the ASPSP's documentation. Only used in a corporate context.
      required: false
      schema:
        $ref: '#/components/schemas/Max35Text'
      example: 'PSU-CORP-ID-TYPE_A'
    HEADER_xJwsSignature:
      name: x-jws-signature
      in: header
      description: |
        The attribute x-jws-signature contains the JSON Web Signature.
      schema:
        type: string
      required: false # conditional
      example: 'eyJiNjQiOmZhbHNlLCJ4NXQjUzI1NiI6ImR5dFBwU2tKWXpoVGRQWFNXUDdqaFhnRzRrQ09XSVdHaWVzZHprdk5MelkiLCJjcml0IjpbInNpZ1QiLCJzaWdEIiwiYjY0Il0sInNpZ1QiOiIyMDIwLTEwLTI2VDExOjI2OjU3WiIsInNpZ0QiOnsicGFycyI6WyJ4LXJlcXVlc3QtaWQiLCJkaWdlc3QiXSwibUlkIjoiaHR0cDovL3VyaS5ldHNpLm9yZy8xOTE4Mi9IdHRwSGVhZGVycyJ9LCJhbGciOiJSUzI1NiJ9..NuGglWBtHcXavob2ZmW-PoSpMmhJS9U6z8zPqHFoE97vHI3z8wtaVdbwsj5WzgPjtVWUUnk8cxP4JjLXdwzwhhHB2uJ5FI4ZZGdSQQw-9pXPUx3cCJSzHmrgkJ-di-A4'
    PATH_consentCategory:
      name: consent-category
      in: path
      description: |
        The related consent type. Currently supported are the following consent types:
        * account-access,
        * funds-confirmations
        * user-parameters-access
        * rtps
      required: true
      schema:
        type: string
        enum: 
          - account-access
          - funds-confirmations
          - user-parameters-access
          - rtps
      example: 'account-access'
  requestBodies: {}
  headers:
    ASPSP-Notification-Support:
      description: |
        true if the ASPSP supports resource status notification services.
        false if the ASPSP supports resource status notification in general, but not for the current request.
        Not used, if resource status notification services are generally not supported by the ASPSP.
        Shall be supported if the ASPSP supports resource status notification services.
      schema:
        type: boolean       
      required: false
      example: true
    X-Reference-API-Version:
      description: ID of the request, unique to the call, as determined by the initiating party.
      required: true
      schema:
        type: string
      example: '2.1.3'
    X-Reference-API-Document:
      description: |
        The name of the Implementation Guideline document, where the service is based on, e.g. \"Extended Payment Initiation Services\". 
      required: false
      schema:
        type: string
      example: 'Extended Payment Initiation Services'
    X-Request-ID:
      description: |
        ID of the request, unique to the call, as determined by the initiating party.
      required: true
      schema:
        type: string
        format: uuid
      example: '99391c7e-ad88-49ec-a2ad-99ddcb1f7721'
    X-Reference-API-Name:
      description: |
        \"Berlin Group openFinance API\" 
      required: false
      schema:
        type: string
      example: 'Berlin Group openFinance API'
    ASPSP-Multiple-Consent-Support:
      description: |
        true if the ASPSP supports the Multiple Consent Service.
        false if the ASPSP does not support the Multiple Consent Service.
        If not provided, this also implies that the ASPSP does not support the Multiple Consent Service.
      schema:
        type: boolean       
      required: false
      example: true
    ASPSP-SCA-Approach:
      description: |
        This data element must be contained, if the SCA Approach is already fixed.
        Possible values are
          * EMBEDDED
          * DECOUPLED
          * REDIRECT
          * ASPSP-CHANNEL
          * SIGNATURE
        The OAuth SCA approach will be subsumed by REDIRECT.
      schema:
        type: string
        enum:
          - EMBEDDED
          - DECOUPLED
          - REDIRECT
          - ASPSP-CHANNEL
      required: false
      example: 'EMBEDDED'
    ASPSP-Notification-Content:
      description: |
        The string has the form
        status=X1, ..., Xn
        where Xi is one of the constants SCA, PROCESS, LAST and where constants are not repeated.
        The usage of the constants supports the following semantics
        SCA - Notification on every change of the scaStatus attribute for all related authorisation processes is provided by the ASPSP for the related resource.
        PROCESS - Notification on all changes of consentStatus or transactionStatus attributes is provided by the ASPSP for the related resource
        LAST - Notification on the last consentStatus or transactionStatus as available in the XS2A interface is provided by the ASPSP for the related resource.
        This field must be provided if the ASPSP-Notification-Support=true. The ASPSP might consider the notification content as preferred by the TPP, but can also respond independently of the preferred request    
      schema:
        type: string        
      required: false
      example: 'status=SCA'
    Location:
      description: |
        Location of the created resource.
      schema:
        type: string
        format: url
      required: false
      example: 'https://testbank.com/xs2a/v2/consents/account-access/123cons456'
  responses:
    created_201_CONSENT_ACCOUNT:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        ASPSP-SCA-Approach:
          $ref: '#/components/headers/ASPSP-SCA-Approach'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
        ASPSP-Notification-Content:
          $ref: '#/components/headers/ASPSP-Notification-Content'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Multiple-Consent-Support:
          $ref: '#/components/headers/ASPSP-Multiple-Consent-Support'
      description: CREATED
      content:
        application/json:
          schema:
            type: object
            required:
              - consentStatus
              - consentId
              - _links
            properties:
              consentStatus:
                description: |
                  authentication status of the consent
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
              consentId:
                description: |
                  Identification of the consent resource as it is used in the API structure
                allOf:
                  - $ref: '#/components/schemas/Max70Text'
              scaMethods:
                description: |
                  This data element might be contained, if SCA is required and if the PSU has a choice between different
                  authentication methods.
                  Depending on the risk management of the ASPSP this choice might be offered before or after the PSU
                  has been identified with the first relevant factor, or if an access token is transported.
                  If this data element is contained, then there is also a hyperlink of type \"startAuthorisationWithAuthenticationMethodSelection\"
                  contained in the response body.
                  These methods shall be presented towards the PSU for selection by the TPP.
                type: array
                items:
                  $ref: '#/components/schemas/authenticationObject'
              chosenScaMethod:
                description: |
                  This data element is only contained in the response if the ASPSP has chosen the Embedded SCA Approach, if the PSU is already identified e.g. 
                  with the first relevant factor or alternatively an access token, if SCA is required and if the authentication method is implicitly selected.
                allOf:
                  - $ref: '#/components/schemas/authenticationObject'
              challengeData:
                description: |
                  It is contained in addition to the data element \"chosenScaMethod\" if challenge data is needed for SCA.
                  In rare cases this attribute is also used in the context of the \"startAuthorisationWithPsuAuthentication\" or 
                  \"startAuthorisactionWithEncryptedPsuAuthentication\" link. 
                allOf:
                  - $ref: '#/components/schemas/challenge'
              _links:
                description: |
                  A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                  when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                  Response messages. These links will also be contained in the related Open API files. 
                  Remark: All links can be relative or full links, to be decided by the ASPSP.
                allOf:
                  - $ref: '#/components/schemas/_links_201_CONSENT_ACCOUNT'
              psuMessage:
                description: |
                  Text to be displayed to the PSU.
                allOf:
                  - $ref: '#/components/schemas/Max500Text'
    OK_200_CONSENT_USERPARAMETERS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
           schema:
            type: object
            required:
              - access
              - consentType
              - recurringIndicator
              - validTo
              - consentStatus
            properties:
              access:
                description: |
                allOf:
                  - $ref: '#/components/schemas/accountAccess'
              consentType:
                description: |
                allOf:
                  - $ref: '#/components/schemas/ConsentTypeCode'
              recurringIndicator:
                description: |
                type: boolean
              validTo:
                description: |
                allOf:
                  - $ref: '#/components/schemas/ISODate'
              consentStatus:
                description: |
                  The status of the consent resource.
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
    decline_415_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Unsupported Media Type
    Ok_200_PUT_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        ASPSP-SCA-Approach:
          $ref: '#/components/headers/ASPSP-SCA-Approach'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
          schema:
            anyOf:
              - type: object #case \"Update PSU Data (Identification) \"
                required:
                  - scaStatus
                  - _links
                properties:
                  transactionFees:
                    description: |
                      Might be used by the ASPSP to transport the total transaction fee relevant for the underlying payments. 
                      This field includes the entry of the currencyConversionFees if applicable.
                    allOf:
                      - $ref: '#/components/schemas/amount'
                  currencyConversionFees:
                    description: |
                      Might be used by the ASPSP to transport specific currency conversion fees related to the initiated credit transfer.
                    allOf:
                      - $ref: '#/components/schemas/amount'
                  estimatedTotalAmount:
                    description: |
                      The estimated amount to be transferred to the payee.
                      Note: This amount includes fees. 
                    allOf:
                      - $ref: '#/components/schemas/amount'
                  estimatedInterbankSettlementAmount:
                    description: |
                      The estimated amount to be transferred to the payee in case of a payment resource. 
                    allOf:
                      - $ref: '#/components/schemas/amount'
                  scaStatus:
                    description: |
                    allOf:
                      - $ref: '#/components/schemas/SCAStatus'
                  scaMethods:
                    description: |
                      This data element might be contained, if SCA is required and if the PSU has a choice between different authentication methods. 
                      Depending on the risk management of the ASPSP this choice might be offered before or after the PSU has been identified with the 
                      first relevant factor, or if an access token is transported. If this data element is contained, then there is also a hyperlink of 
                      type \"selectAuthenticationMethod\" contained in the response body. 
                      These methods shall be presented towards the PSU for selection by the API Client. 
                    type: array
                    items:
                      $ref: '#/components/schemas/authenticationObject'
                  _links:
                    description: |
                      A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                      when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                      Response messages. These links will also be contained in the related Open API files. 
                      Remark: All links can be relative or full links, to be decided by the ASPSP.
                    allOf:
                      - $ref: '#/components/schemas/_links_200_PUT_AUTHORISATION'
                  psuMessage:
                    description: |
                      Text to be displayed to the PSU.
                    allOf:
                      - $ref: '#/components/schemas/Max500Text'
              - type: object  #case \"Update PSU Data (Select Authentication Method)\"
                required:
                  - scaStatus
                  - _links
                properties:
                  originalTransactionInformationAndVopStatus:
                    description: |
                      VOP result information. Will be provided, if
                        an account/owner name match was requested and performed,
                        the result was not yet provided and
                      the related code in the interbank VOP service was "CMTC", "NMTC" or "NOAP".
                    type: array
                    items:
                      $ref: '#/components/schemas/originalTransactionInformationAndVOPStatus'
                  scaStatus:
                    description: |
                    allOf:
                      - $ref: '#/components/schemas/SCAStatus'
                  chosenScaMethod:
                    description: |
                      This data element is only contained in the response if the ASPSP has chosen the Embedded SCA Approach, if the PSU is already identified e.g. 
                      with the first relevant factor or alternatively an access token, if SCA is required and if the authentication method is implicitly selected.
                    allOf:
                      - $ref: '#/components/schemas/authenticationObject'
                  challengeData:
                    description: |
                      It is contained in addition to the data element \"chosenScaMethod\" if challenge data is needed for SCA.
                      In rare cases this attribute is also used in the context of the \"startAuthorisationWithPsuAuthentication\" or 
                      \"startAuthorisactionWithEncryptedPsuAuthentication\" link. 
                    allOf:
                      - $ref: '#/components/schemas/challenge'
                  _links:
                    description: |
                      A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                      when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                      Response messages. These links will also be contained in the related Open API files. 
                      Remark: All links can be relative or full links, to be decided by the ASPSP.
                    allOf:
                      - $ref: '#/components/schemas/_links_200_PUT_AUTHORISATION'
                  psuMessage:
                    description: |
                      Text to be displayed to the PSU.
                    allOf:
                      - $ref: '#/components/schemas/Max500Text'
              - type: object  #case \"Update PSU Data (Authentication) \"
                required:
                  - scaStatus
                  - _links
                properties:
                  originalTransactionInformationAndVopStatus:
                    description: |
                      VOP result information. Will be provided, if
                        an account/owner name match was requested and performed,
                        the result was not yet provided and
                      the related code in the interbank VOP service was "CMTC", "NMTC" or "NOAP".
                    type: array
                    items:
                      $ref: '#/components/schemas/originalTransactionInformationAndVOPStatus'
                  scaStatus:
                    description: |
                    allOf:
                      - $ref: '#/components/schemas/SCAStatus'
                  scaMethods:
                    description: |
                      This data element might be contained, if SCA is required and if the PSU has a choice between different authentication methods. 
                      Depending on the risk management of the ASPSP this choice might be offered before or after the PSU has been identified with the 
                      first relevant factor, or if an access token is transported. If this data element is contained, then there is also a hyperlink of 
                      type \"selectAuthenticationMethod\" contained in the response body. 
                      These methods shall be presented towards the PSU for selection by the API Client. 
                    type: array
                    items:
                      $ref: '#/components/schemas/authenticationObject'
                  chosenScaMethod:
                    description: |
                      This data element is only contained in the response if the ASPSP has chosen the Embedded SCA Approach, if the PSU is already identified e.g. 
                      with the first relevant factor or alternatively an access token, if SCA is required and if the authentication method is implicitly selected.
                    allOf:
                      - $ref: '#/components/schemas/authenticationObject'
                  challengeData:
                    description: |
                      It is contained in addition to the data element \"chosenScaMethod\" if challenge data is needed for SCA.
                      In rare cases this attribute is also used in the context of the \"startAuthorisationWithPsuAuthentication\" or 
                      \"startAuthorisactionWithEncryptedPsuAuthentication\" link. 
                    allOf:
                      - $ref: '#/components/schemas/challenge'
                  accounts:
                    description: |
                      Provided, if the PSU account reference has not been provided in the related resource data submission and if more than one account is available.
                    type: array
                    items:
                      $ref: '#/components/schemas/accountDetails'
                  _links:
                    description: |
                      A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                      when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                      Response messages. These links will also be contained in the related Open API files. 
                      Remark: All links can be relative or full links, to be decided by the ASPSP.
                    allOf:
                      - $ref: '#/components/schemas/_links_200_PUT_AUTHORISATION'
                  psuMessage:
                    description: |
                      Text to be displayed to the PSU.
                    allOf:
                      - $ref: '#/components/schemas/Max500Text'
              - type: object  #case \"Transaction Authorisation\"
                required:
                  - scaStatus
                  - _links
                properties:
                  scaStatus:
                    description: |
                    allOf:
                      - $ref: '#/components/schemas/SCAStatus'
                  _links:
                    description: |
                      A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                      when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                      Response messages. These links will also be contained in the related Open API files. 
                      Remark: All links can be relative or full links, to be decided by the ASPSP.
                    allOf:
                      - $ref: '#/components/schemas/_links_200_PUT_AUTHORISATION'
              - type: object  #case \"Authorisation Confirmation\"
                required:
                  - scaStatus
                  - _links
                properties:
                  scaStatus:
                    description: |
                    allOf:
                      - $ref: '#/components/schemas/SCAStatus'
                  _links:
                    description: |
                      A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                      when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                      Response messages. These links will also be contained in the related Open API files. 
                      Remark: All links can be relative or full links, to be decided by the ASPSP.
                    allOf:
                      - $ref: '#/components/schemas/_links_200_PUT_AUTHORISATION'
                  psuMessage:
                    description: |
                      Text to be displayed to the PSU.
                    allOf:
                      - $ref: '#/components/schemas/Max500Text'
    decline_503:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Service Unavailable
    decline_500:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Internal Server Error
    created_200_GET_AUTHORISATION_IDS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
          schema:
            type: object
            required:
              - authorisationIds
            properties:
              authorisationIds:
                description: |
                   An array of all authorisationIds connected to the related business transaction. 
                type: array
                items:
                  type: string
    decline_408:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Request Timeout
    OK_200_CONSENT_ACCOUNT:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
           schema:
            type: object
            required:
              - access
              - consentType
              - recurringIndicator
              - validTo
              - frequencyPerDay
              - consentStatus
            properties:
              access:
                description: |
                allOf:
                  - $ref: '#/components/schemas/accountAccess'
              consentType:
                description: |
                allOf:
                  - $ref: '#/components/schemas/ConsentTypeCode'
              recurringIndicator:
                description: |
                type: boolean
              validTo:
                description: |
                allOf:
                  - $ref: '#/components/schemas/ISODate'
              frequencyPerDay:
                description: |
                type: integer
              consentStatus:
                description: |
                  The status of the consent resource.
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
    decline_401_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Unauthorised
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_401_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_401_AIS'
    decline_406:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Not Acceptable
    created_201_CONSENT_OTHER:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        ASPSP-SCA-Approach:
          $ref: '#/components/headers/ASPSP-SCA-Approach'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
        ASPSP-Notification-Content:
          $ref: '#/components/headers/ASPSP-Notification-Content'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: CREATED
      content:
        application/json:
          schema:
            type: object
            required:
              - consentStatus
              - consentId
              - _links
            properties:
              consentStatus:
                description: |
                  authentication status of the consent
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
              consentId:
                description: |
                  Identification of the consent resource as it is used in the API structure
                allOf:
                  - $ref: '#/components/schemas/Max70Text'
              scaMethods:
                description: |
                  This data element might be contained, if SCA is required and if the PSU has a choice between different
                  authentication methods.
                  Depending on the risk management of the ASPSP this choice might be offered before or after the PSU
                  has been identified with the first relevant factor, or if an access token is transported.
                  If this data element is contained, then there is also a hyperlink of type \"startAuthorisationWithAuthenticationMethodSelection\"
                  contained in the response body.
                  These methods shall be presented towards the PSU for selection by the TPP.
                type: array
                items:
                  $ref: '#/components/schemas/authenticationObject'
              chosenScaMethod:
                description: |
                  This data element is only contained in the response if the ASPSP has chosen the Embedded SCA Approach, if the PSU is already identified e.g. 
                  with the first relevant factor or alternatively an access token, if SCA is required and if the authentication method is implicitly selected.
                allOf:
                  - $ref: '#/components/schemas/authenticationObject'
              challengeData:
                description: |
                  It is contained in addition to the data element \"chosenScaMethod\" if challenge data is needed for SCA.
                  In rare cases this attribute is also used in the context of the \"startAuthorisationWithPsuAuthentication\" or 
                  \"startAuthorisactionWithEncryptedPsuAuthentication\" link. 
                allOf:
                  - $ref: '#/components/schemas/challenge'
              _links:
                description: |
                  A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                  when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                  Response messages. These links will also be contained in the related Open API files. 
                  Remark: All links can be relative or full links, to be decided by the ASPSP.
                allOf:
                  - $ref: '#/components/schemas/_links_201_CONSENT_OTHER'
              psuMessage:
                description: |
                  Text to be displayed to the PSU.
                allOf:
                  - $ref: '#/components/schemas/Max512Text'
    OK_204_CONSENT_DELETE:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: NO CONTENT
    decline_400_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_400_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_400_AUTHORISATION'
    decline_404_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_404_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_404_AUTHORISATION'
    decline_409:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_409'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_409'
    OK_200_CONSENT_PIIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
           schema:
            type: object
            required:
              - access
              - consentType
              - consentStatus
            properties:
              access:
                description: |
                  Account access details, where the confirmation of funds service is aimed to be submitted to.
                allOf:
                  - $ref: '#/components/schemas/accountAccess'
              consentType:
                description: |
                allOf:
                  - $ref: '#/components/schemas/ConsentTypeCode'
              cardNumber:
                description: |
                  Card Number of the card issued by the PIISP. Should be delivered if available.
                allOf:
                  - $ref: '#/components/schemas/Max35Text'
              cardExpiryDate:
                description: |
                  Expiry date of the card issued by the PIISP
                allOf:
                  - $ref: '#/components/schemas/ISODate'
              cardInformation:
                description: |
                  Additional explanation for the card product.
                allOf:
                  - $ref: '#/components/schemas/Max140Text'
              registrationInformation:
                description: |
                  Additional registration information.
                allOf:
                  - $ref: '#/components/schemas/Max140Text'
              consentStatus:
                description: |
                  The status of the consent resource.
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
    decline_409_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_409_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_409_AIS'
    decline_409_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Conflict
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_409_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_409_AUTHORISATION'
    created_201_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        ASPSP-SCA-Approach:
          $ref: '#/components/headers/ASPSP-SCA-Approach'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
        ASPSP-Notification-Content:
          $ref: '#/components/headers/ASPSP-Notification-Content'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: CREATED
      content:
        application/json:
          schema:
            type: object
            required:
              - scaStatus
              - authorisationId
              - _links
            properties:
              transactionFees:
                description: |
                  Might be used by the ASPSP to transport the total transaction fee relevant for the underlying payments in case of a payment 
                  resource. This field includes the entry of the currencyConversionFees if applicable. 
                allOf:
                  - $ref: '#/components/schemas/amount'
              currencyConversionFees:
                description: |
                   Might be used by the ASPSP to transport specific currency conversion fees related to the initiated credit transfer in case of a payment resource id.
                allOf:
                  - $ref: '#/components/schemas/amount'
              estimatedTotalAmount:
                description: |
                   The amount which is estimated to be debted from the debtor account in case of a payment resource. 
                   Note: This amount includes fees. 
                allOf:
                  - $ref: '#/components/schemas/amount'
              estimatedInterbankSettlementAmount:
                description: |
                   The estimated amount to be transferred to the payee in case of a payment resource. 
                allOf:
                  - $ref: '#/components/schemas/amount'
              scaStatus:
                description: |
                allOf:
                  - $ref: '#/components/schemas/SCAStatus'
              authorisationId:
                description: |
                   Unique resource identification of the created authorisation or cancellation authorisation sub-resource. 
                type: string
              originalTransactionInformationAndVopStatus:
                description: |
                  VOP result information. Will be provided, if
                    an account/owner name match was requested and performed,
                    the result was not yet provided and
                  the related code in the interbank VOP service was "CMTC", "NMTC" or "NOAP".
                type: array
                items:
                  $ref: '#/components/schemas/originalTransactionInformationAndVOPStatus'
              scaMethods:
                description: |
                  This data element might be contained, if SCA is required and if the PSU has a choice between different authentication methods. 
                  Depending on the risk management of the ASPSP this choice might be offered before or after the PSU has been identified with the 
                  first relevant factor, or if an access token is transported. If this data element is contained, then there is also a hyperlink of 
                  type \"selectAuthenticationMethod\" contained in the response body. 
                  These methods shall be presented towards the PSU for selection by the API Client. 
                type: array
                items:
                  $ref: '#/components/schemas/authenticationObject'
              chosenScaMethod:
                description: |
                  This data element is only contained in the response if the ASPSP has chosen the Embedded SCA Approach, if the PSU is already identified e.g. 
                  with the first relevant factor or alternatively an access token, if SCA is required and if the authentication method is implicitly selected.
                allOf:
                  - $ref: '#/components/schemas/authenticationObject'
              challengeData:
                description: |
                  It is contained in addition to the data element \"chosenScaMethod\" if challenge data is needed for SCA.
                  In rare cases this attribute is also used in the context of the \"startAuthorisationWithPsuAuthentication\" or 
                  \"startAuthorisactionWithEncryptedPsuAuthentication\" link. 
                allOf:
                  - $ref: '#/components/schemas/challenge'
              _links:
                description: |
                  A list of hyperlinks to be recognised by the API Client. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP 
                  when processing the request. The potential links for this response message are generically defined in [oFA SMPF] for all Transaction Initiation 
                  Response messages. These links will also be contained in the related Open API files. 
                  Remark: All links can be relative or full links, to be decided by the ASPSP.
                allOf:
                  - $ref: '#/components/schemas/_links_201_AUTHORISATION'
              psuMessage:
                description: |
                  Text to be displayed to the PSU.
                allOf:
                  - $ref: '#/components/schemas/Max500Text'
    decline_405_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Method not allowed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_405_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_405_AIS'
    decline_408_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Request Timeout
    decline_403_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_403_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_403_AUTHORISATION'
    decline_400_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_400_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_400_AIS'
    decline_415:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Unsupported Media Type
    decline_404_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_404_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_404_AIS'
    decline_406_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support :
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Not Acceptable
    OK_200_CONSENTSTATUS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
          schema:
            type: object
            required:
              - consentStatus
            properties:
              consentStatus:
                description: |
                  This is the overall lifecycle status of the consent. 
                allOf:
                  - $ref: '#/components/schemas/ConsentStatus'
              psuMessage:
                description: |
                allOf:
                  - $ref: '#/components/schemas/Max500Text'
    decline_405_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Method not allowed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_405_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_405_AUTHORISATION'
    decline_401_AUTHORISATION:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Unauthorised
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_401_AUTHORISATION'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_401_AUTHORISATION'
    created_200_GET_AUTHORISATION_STATUS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
      description: OK
      content:
        application/json:
          schema:
            type: object
            required:
              - scaStatus
            properties:
              scaStatus:
                description: |
                   This data element is containing information about the status of the SCA method applied. 
                allOf:
                  - $ref: '#/components/schemas/SCAStatus'
              psuName:
                description: |
                   Name of the PSU (Usage is following the mandate resulting from EBA Q&A 2020_5165).
                   In case of a corporate account, this might be the person acting on behalf of the corporate.  
                allOf:
                  - $ref: '#/components/schemas/Max140Text'
              _links:
                description: |
                  Should refer to next steps if the problem can be resolved via the interface e.g. for re-submission of credentials.
                allOf:
                  - $ref: '#/components/schemas/_links_200_GET_AUTHORISATION_STATUS'
              apiClientMessages:
                description: |
                   Messages to the TPP on operational issues.
                type: array
                items:
                  $ref: '#/components/schemas/clientMessageInformation'
    decline_403_AIS:
      headers:
        X-Reference-API-Name:
          $ref: '#/components/headers/X-Reference-API-Name'
        X-Reference-API-Document:
          $ref: '#/components/headers/X-Reference-API-Document'
        X-Reference-API-Version:
          $ref: '#/components/headers/X-Reference-API-Version'
        Location:
          $ref: '#/components/headers/Location'
        X-Request-ID:
          $ref: '#/components/headers/X-Request-ID'
        ASPSP-Notification-Support:
          $ref: '#/components/headers/ASPSP-Notification-Support'
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/error_NG_403_AIS'
        application/problem+json:
          schema:
            $ref: '#/components/schemas/error_RFC7807_403_AIS'
  examples: {}

